{"version":3,"sources":["components/ErrorMessageComponent.tsx","components/SignInFormComponent.tsx","config.ts","errors/ResponseError.ts","errors/AppResponseError.ts","httpClients/appClient.ts","actions/authenticationActions.ts","containers/SignInFormContainer.tsx","actions/settingsAction.ts","components/LoadingComponent.tsx","components/BasePageComponent.tsx","containers/BasePageContainer.tsx","pages/SignInPage.tsx","components/SignUpFormComponent.tsx","actions/registerAction.ts","containers/SignUpFormContainer.tsx","pages/SignUpPage.tsx","components/ItemImageUploadComponent.tsx","components/SellFormComponent.tsx","actions/sellingItemAction.ts","containers/SellFormContainer.tsx","actions/errorAction.ts","errors/NotFoundError.ts","actions/fetchItemPageAction.ts","reducers/errorReducer.ts","pages/error/NotFoundPage.tsx","pages/error/InternalServerErrorPage.tsx","hoc/withBaseComponent.tsx","pages/SellPage.tsx","pages/ItemEditPage.tsx","components/LoadingButtonComponent.tsx","components/ItemBuyFormComponent.tsx","httpClients/paymentClient.ts","errors/PaymentResponseError.ts","actions/buyAction.ts","containers/ItemBuyFormContainer.tsx","reducers/index.ts","pages/ItemBuyPage.tsx","pages/UserSettingPage.tsx","pages/BuyComplete.tsx","pages/ItemPage.tsx","containers/ItemPageContainer.tsx","components/ItemComponent.tsx","components/ItemListComponent.tsx","components/SellingButtonComponent.tsx","containers/SellingButtonContainer.tsx","pages/ItemListPage.tsx","mocks.ts","containers/ItemListPageContainer.tsx","pages/TransactionPage.tsx","containers/TransactionPageContainer.tsx","pages/UserPage.tsx","containers/UserPageContainer.tsx","containers/AuthContainer.tsx","components/Route/AuthRoute.tsx","containers/NonAuthContainer.tsx","components/Route/NonAuthRoute.tsx","pages/TopPage.tsx","routes/Route.tsx","App.tsx","middlewares/index.ts","middlewares/logger.ts","reducers/authStatusReducer.ts","reducers/formErrorReducer.ts","reducers/viewingItemReducer.ts","reducers/pageReducuer.ts","reducers/buyPageReducer.ts","reducers/categoriesReducer.ts","index.tsx","configureStore.ts"],"names":["ErrorMessageComponent","_ref","id","error","react_default","a","createElement","FormHelperText","key","SignInPageFormComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","accountName","password","_onSubmit","bind","assertThisInitialized","_onChangeAccountName","_onChangePassword","e","preventDefault","_this$state","onSubmit","setState","target","value","_this$state2","classes","className","paper","Avatar","avatar","LockOutlined","Typography","component","variant","form","noValidate","TextField","margin","required","fullWidth","label","name","autoFocus","onChange","type","autoComplete","ErrorMessageComponent_ErrorMessageComponent","Button","color","onClick","submit","Grid","container","item","xs","react_router_dom","to","routes","register","path","React","Component","withStyles","theme","createStyles","display","flexDirection","alignItems","spacing","backgroundColor","palette","secondary","main","width","marginTop","config","apiUrl","paymentUrl","ResponseError","_Error","message","response","res","inherits","createClass","wrapNativeSuper","Error","AppResponseError","_ResponseError","apply","arguments","appClient","baseUrl","defaultHeaders","fetch","concat","method","headers","params","requestOption","mode","assign","Content-Type","credentials","getCsrfToken","csrf_token","body","JSON","stringify","ok","json","LOGIN_SUCCESS","LOGIN_FAIL","postLoginAction","dispatch","AppClient","post","account_name","then","status","newAuthState","userId","address","payload","push","top","catch","err","newErros","connect","formError","fetchSettingStartAction","fetchSettingsSuccessAction","settings","fetchItemPageFailAction","useStyles","makeStyles","progress","bottom","right","left","position","LoadingComponent","Fragment","CircularProgress","size","themeInstance","createMuiTheme","background","default","BasePageComponent","alreadyLoaded","load","MuiThemeProvider","Container","maxWidth","loading","components_LoadingComponent","children","page","isLoading","authStatus","checked","Promise","resolve","get","user","undefined","numSellItems","num_sell_items","csrfToken","categories","map","category","parentId","parent_id","categoryName","category_name","SignInPage","BasePageContainer","SignInFormContainer","SignUpFormComponent","_onChangeAddress","login","REGISTER_SUCCESS","REGISTER_FAIL","postRegisterAction","SignUpPageFormComponent","SignUpPage","SignUpFormContainer","ItemImageUploadComponent","imagePreviewUrl","_handleImageChange","_this2","files","reader","FileReader","file","onloadend","result","readAsDataURL","imagePreview","console","log","alt","src","Paper_default","Avatar_default","Camera","Typography_default","Grid_default","direction","justify","accept","upload","htmlFor","Button_default","button","SellFormComponent","description","price","selectedCategoryId","_onChangeName","_onChangeDescription","_onChangeCategory","_onChangePrice","sellItem","categoryError","child","Number","input","validator","isNumeric","no_symbols","_this$props","components_ItemImageUploadComponent","multiline","rows","InputLabel","Select","selectForm","inputProps","MenuItem","minWidth","SELLING_ITEM_SUCCESS","SELLING_ITEM_FAIL","listItemAction","categoryId","category_id","itemId","newErrors","filter","NOT_FOUND_ERROR","INTERNAL_SERVER_ERROR","NotFoundError","fetchItemPageStartAction","fetchItemPageSuccessAction","length","errorType","errorCode","NotFoundPage","InternalServerErrorPage","PageComponentWithError","compose","withProps","branch","renderComponent","SellFormContainer","ItemEditPage","LoadingButtonComponent","_onClick","buttonName","react","disabled","buttonProgress","marginLeft","ItemBuyFormComponent","cardNumber","_onChangeCardNumber","_onClickBuyButton","isHexadecimal","toUpperCase","onBuyAction","errors","loadingBuy","cardError","appError","buyError","itemImage","thumbnailUrl","TextField_default","helperText","components_LoadingButtonComponent","height","textAlign","paymentClient","PaymentResponseError","BUY_START","BUY_SUCCESS","BUY_FAIL","USING_CARD_FAIL","buyItemAction","PaymentClient","card_number","shop_id","item_id","token","buyComplete","action","getResponse","usingCardFailAction","buyFailAction","buyFormError","history","viewingItem","buyPage","ItemBuyPage","ItemBuyFormContainer","UserSettingPage","BuyCompletePage","ItemPage","match","onClickBuy","title","sm","descSection","Divider","divider","categoryTimeline","getPath","parentCategoryName","wrap","link","sellerId","seller","charAt","AppBar","appBar","buyButton","marginBottom","textDecoration","isItemPageLoading","seller_id","buyerId","buyer_id","buyer","parent_category_name","createdAt","created_at","fetchItemPageAction","buy","ItemComponent","imageUrl","Card","GridListTileBar","subtitle","grid","ItemListComponent","items","itemComponents","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","GridListTile","ItemComponent_ItemComponent","return","GridList","cols","fab","sell","Fab_default","Edit","fontSize","root","flexWrap","justifyContent","overflow","ItemListComponent_ItemListComponent","SellingButtonContainer","mockUser","mockItems","ItemListPage","TransactionPage","itemList","UserPage","isLoggedIn","rest","objectWithoutProperties","react_router","render","timeline","textarea","img","TopPage","LoginButtonLink","forwardRef","ref","innerRef","RegisterButtonLink","itemEdit","transaction","transactionId","userSetting","AppRoute","NonAuthContainer","exact","AuthContainer","ItemListPageContainer","SellPage","ItemPageContainer","TransactionPageContainer","UserPageContainer","pageName","App","routeComponents","_i","_routes","route","getLinks","Route_AppRoute","middlewares","getState","group","info","groupEnd","initialState","objectSpread","userPayload","createBrowserHistory","store","reducer","createStore","composeWithDevTools","applyMiddleware","thunk","routerMiddleware","toConsumableArray","getStore","combineReducers","router","connectRouter","ReactDOM","es","esm","src_App_0","document","getElementById"],"mappings":"2YAQMA,EAA8D,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,GAAIC,EAAWF,EAAXE,MACvE,OACIC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACIC,IAAKL,EACLD,GAAIA,EACJC,OAAO,GAENA,ICyBPM,cACF,SAAAA,EAAYC,GAAiC,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACzCE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTC,YAAa,GACbC,SAAU,IAGdT,EAAKU,UAAYV,EAAKU,UAAUC,KAAfV,OAAAW,EAAA,EAAAX,CAAAD,IACjBA,EAAKa,qBAAuBb,EAAKa,qBAAqBF,KAA1BV,OAAAW,EAAA,EAAAX,CAAAD,IAC5BA,EAAKc,kBAAoBd,EAAKc,kBAAkBH,KAAvBV,OAAAW,EAAA,EAAAX,CAAAD,IAVgBA,yEAanCe,GACNA,EAAEC,iBADyB,IAAAC,EAEOd,KAAKI,MAA/BC,EAFmBS,EAEnBT,YAAaC,EAFMQ,EAENR,SACrBN,KAAKJ,MAAMmB,SAASV,EAAaC,gDAGhBM,GACjBZ,KAAKgB,SAAS,CACVX,YAAaO,EAAEK,OAAOC,kDAIZN,GACdZ,KAAKgB,SAAS,CACVV,SAAUM,EAAEK,OAAOC,yCAIlB,IAAAC,EAC6BnB,KAAKI,MAA/BC,EADHc,EACGd,YAAaC,EADhBa,EACgBb,SACbc,EAAYpB,KAAKJ,MAAjBwB,QAER,OACI9B,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQE,OACpBhC,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAQF,UAAWD,EAAQI,QACvBlC,EAAAC,EAAAC,cAACiC,EAAA,EAAD,OAEJnC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,8CAGAtC,EAAAC,EAAAC,cAAA,QAAM6B,UAAWD,EAAQS,KAAMC,YAAU,GACrCxC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,cACH+C,MAAM,2BACNC,KAAK,cACLC,WAAS,EACTnB,MAAOb,EACPiC,SAAUtC,KAAKU,uBAEnBpB,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,WACH+C,MAAM,iCACNC,KAAK,WACLG,KAAK,WACLC,aAAa,mBACbtB,MAAOZ,EACPgC,SAAUtC,KAAKW,oBAGfX,KAAKJ,MAAMP,OACXC,EAAAC,EAAAC,cAACiD,EAAD,CAAuBrD,GAAG,eAAeC,MAAOW,KAAKJ,MAAMP,QAE/DC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACItD,GAAG,eACHmD,KAAK,SACLL,WAAS,EACTN,QAAQ,YACRe,MAAM,UACNC,QAAS5C,KAAKO,UACdc,UAAWD,EAAQyB,QAPvB,4BAWAvD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAMC,WAAS,GACXzD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACT3D,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAWC,GAAIC,GAAOC,SAASC,MAA/B,+DAvFUC,IAAMC,WAgG7BC,MA7HA,SAACC,GAAD,OAA8BC,YAAa,CACtDrC,MAAO,CACHsC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBtC,OAAQ,CACJQ,OAAQ0B,EAAMK,QAAQ,GACtBC,gBAAiBN,EAAMO,QAAQC,UAAUC,MAE7CtC,KAAM,CACFuC,MAAO,OACPC,UAAWX,EAAMK,QAAQ,IAE7BlB,OAAQ,CACJb,OAAQ0B,EAAMK,QAAQ,EAAG,EAAG,OA8GrBN,CAAmB9D,oCCrInB2E,EAAA,CACXC,OAAQ,wBACRC,WAAY,iCCLHC,EAAb,SAAAC,GAGI,SAAAD,EAAYE,EAAiBC,GAAqB,IAAA/E,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyE,IAC9C5E,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2E,GAAAtE,KAAAH,KAAM2E,KAHOE,SAEiC,EAE9ChF,EAAKgF,IAAMD,EAFmC/E,EAHtD,OAAAC,OAAAgF,EAAA,EAAAhF,CAAA2E,EAAAC,GAAA5E,OAAAiF,EAAA,EAAAjF,CAAA2E,EAAA,EAAA/E,IAAA,cAAAwB,MAAA,WASQ,OAAOlB,KAAK6E,QATpBJ,EAAA,CAAA3E,OAAAkF,EAAA,EAAAlF,CAAmCmF,QCEtBC,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAApF,OAAAC,EAAA,EAAAD,CAAAE,KAAAkF,GAAApF,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoF,GAAAE,MAAApF,KAAAqF,YAAA,OAAAvF,OAAAgF,EAAA,EAAAhF,CAAAoF,EAAAC,GAAAD,EAAA,CAAsCT,GCmDvBa,EAAA,qDA7CHC,QAAkBjB,EAAOC,YACzBiB,eAA8B,2FAE5BlC,mFACOmC,MAAK,GAAAC,OAAI1F,KAAKuF,SAATG,OAAmBpC,GAAQ,CACzCqC,OAAQ,MACRC,QAAS5F,KAAKwF,iOAIXlC,8FAAcuC,iCAAc,GAC/BC,EAA6B,CAC7BH,OAAQ,OACRI,KAAM,cACNH,QAAS9F,OAAOkG,OAAO,GAAIhG,KAAKwF,eAAgB,CAC5CS,eAAgB,qBAEpBC,YAAa,wBAGSlG,KAAKmG,6BAA/BN,EAAOO,kBAEHP,IACAC,EAAcO,KAAOC,KAAKC,UAAUV,aAG3BJ,MAAK,GAAAC,OAAI1F,KAAKuF,SAATG,OAAmBpC,GAAQwC,qTAIjBL,MAAM,YAAa,CAC3CE,OAAQ,MACRC,QAAS5F,KAAKwF,4BAFZX,UAKG2B,yBACC,IAAItB,EAAiB,yEAAwBL,0BAGvBA,EAAI4B,qBAA9BJ,2BAECA,EAAKD,gICxCPM,EAAgB,gBAChBC,EAAa,aAInB,SAASC,EAAgBvG,EAAqBC,GACjD,OAAO,SAACuG,GACJC,EAAUC,KAAK,SAAU,CACrBC,aAAc3G,EACdC,SAAUA,IAET2G,KAAK,SAACrC,GACH,GAAwB,MAApBA,EAASsC,OACT,MAAM,IAAIjC,MAAM,uBAGpB,OAAOL,EAAS6B,SAEnBQ,KAAK,SAACZ,GAyBZ,IAA4Bc,EAxBnBN,GAwBmBM,EAxBS,CACxBC,OAAQf,EAAKjH,GACbiB,YAAagG,EAAKW,aAClBK,QAAShB,EAAKgB,SAsBvB,CACH9E,KAAMmE,EACNY,QAASH,KAtBDN,EAASU,YAAKnE,GAAOoE,IAAIlE,SAE5BmE,MAAM,SAACC,GA6Bb,IAAyBC,EA5BhBd,GA4BgBc,EA5BS,CACrBtI,MAAOqI,EAAI/C,SA4BpB,CACHpC,KAAMoE,EACNW,QAASK,QC5DjB,IASeC,cATS,SAACxH,GAAD,MAAsB,CAC1Cf,MAAOe,EAAMyH,UAAUxI,QAEA,SAACwH,GAAD,MAA8D,CACrF9F,SAAU,SAACV,EAAqBC,GAC5BuG,EAASD,EAAgBvG,EAAaC,OAI/BsH,CAA6CjI,GC2C5D,IAAMmI,EAA0B,iBAAiC,CAC7DvF,KAAM,yBASJwF,EAA6B,SAACC,GAAD,MAAqD,CACpFzF,KAAM,yBACN+E,QAAS,CACLU,cAMFC,EAA0B,iBAAgC,CAC5D1F,KAAM,4DC3EJ2F,EAAYC,YAAW,SAAAzE,GAAK,MAAK,CACnC0E,SAAU,CACNZ,IAAK,EACLa,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNvG,OAAQ,OACRwG,SAAU,eAiBHC,EAboB,WAC/B,IAAMrH,EAAU8G,IAEhB,OACI5I,EAAAC,EAAAC,cAACF,EAAAC,EAAMmJ,SAAP,KACIpJ,EAAAC,EAAAC,cAACmJ,EAAA,EAAD,CACIC,KAAM,GACNvH,UAAWD,EAAQgH,aCjB7BS,EAAgBC,YAAe,CACjC7E,QAAS,CACL8E,WAAY,CACRC,QAAS,YAWfC,cACF,SAAAA,EAAYrJ,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiJ,IACtBpJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmJ,GAAA9I,KAAAH,KAAMJ,KAEIA,MAAMsJ,eACZrJ,EAAKD,MAAMuJ,OAJOtJ,wEAStB,OACIP,EAAAC,EAAAC,cAAC4J,EAAA,EAAD,CAAkB1F,MAAOmF,GACrBvJ,EAAAC,EAAAC,cAAC6J,EAAA,EAAD,CAAWC,SAAS,MAEZtJ,KAAKJ,MAAM2J,QACPjK,EAAAC,EAAAC,cAACgK,EAAD,MAEAxJ,KAAKJ,MAAM6J,UAAY,cAjBnBlG,IAAMC,WCJvBoE,eAVS,SAACxH,GAAD,MAAsB,CAC1CmJ,QAASnJ,EAAMsJ,KAAKC,UACpBT,cAAe9I,EAAMwJ,WAAWC,UAET,SAAChD,GAAD,MAAoB,CAC3CsC,KAAM,WACFtC,EHMG,SAACA,GACJiD,QAAQC,QAAQ,WACZlD,EAASiB,OAERb,KAAK,kBAAMH,EAAUkD,IAAV,eACX/C,KAAK,SAACrC,GACH,IAAKA,EAAS4B,GACV,MAAM,IAAItB,EAAiB,+CAAgDN,GAG/E,OAAOA,EAAS6B,SAEnBQ,KAAK,SAACZ,GACH,IAAI4D,OAA6BC,EAE7B7D,EAAK4D,OACLA,EAAO,CACH7K,GAAIiH,EAAK4D,KAAK7K,GACdiB,YAAagG,EAAK4D,KAAKjD,aACvBK,QAAShB,EAAK4D,KAAK5C,QACnB8C,aAAc9D,EAAK4D,KAAKG,iBAIhCvD,EAASkB,EAA2B,CAChCsC,UAAWhE,EAAKD,WAChBkE,WAAYjE,EAAKiE,WAAWC,IAAoB,SAACC,GAAD,MAAe,CAC3DpL,GAAIoL,EAASpL,GACbqL,SAAUD,EAASE,UACnBC,aAAcH,EAASI,iBAE3BX,KAAMA,OAGbxC,MAAM,SAACC,GACJb,EAASoB,YGrCVL,CAA6CqB,GCTtDf,GAAYC,YAAW,SAAAzE,GAAK,MAAK,CACnCpC,MAAO,CACH+C,UAAWX,EAAMK,QAAQ,GACzBH,QAAS,OACTC,cAAe,SACfC,WAAY,aAkBL+G,GAZqB,WAChC,IAAMzJ,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQE,OACpBhC,EAAAC,EAAAC,cAACuL,EAAD,6BCqBVC,eACF,SAAAA,EAAYpL,GAAiC,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgL,IACzCnL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkL,GAAA7K,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTC,YAAa,GACbgH,QAAS,GACT/G,SAAU,IAGdT,EAAKU,UAAYV,EAAKU,UAAUC,KAAfV,OAAAW,EAAA,EAAAX,CAAAD,IACjBA,EAAKa,qBAAuBb,EAAKa,qBAAqBF,KAA1BV,OAAAW,EAAA,EAAAX,CAAAD,IAC5BA,EAAKoL,iBAAmBpL,EAAKoL,iBAAiBzK,KAAtBV,OAAAW,EAAA,EAAAX,CAAAD,IACxBA,EAAKc,kBAAoBd,EAAKc,kBAAkBH,KAAvBV,OAAAW,EAAA,EAAAX,CAAAD,IAZgBA,yEAenCe,GACNA,EAAEC,iBACFb,KAAKJ,MAAMyD,SAAS,CAChB2D,aAAchH,KAAKI,MAAMC,YACzBgH,QAASrH,KAAKI,MAAMiH,QACpB/G,SAAUN,KAAKI,MAAME,wDAIRM,GACjBZ,KAAKgB,SAAS,CACVX,YAAaO,EAAEK,OAAOC,iDAIbN,GACbZ,KAAKgB,SAAS,CACVqG,QAASzG,EAAEK,OAAOC,kDAIRN,GACdZ,KAAKgB,SAAS,CACVV,SAAUM,EAAEK,OAAOC,yCAIlB,IACGE,EAAYpB,KAAKJ,MAAjBwB,QADHN,EAEsCd,KAAKI,MAAxCC,EAFHS,EAEGT,YAAagH,EAFhBvG,EAEgBuG,QAAS/G,EAFzBQ,EAEyBR,SAE9B,OACIhB,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQE,OACpBhC,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAQF,UAAWD,EAAQI,QACvBlC,EAAAC,EAAAC,cAACiC,EAAA,EAAD,OAEJnC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,4BAGAtC,EAAAC,EAAAC,cAAA,QAAM6B,UAAWD,EAAQS,KAAMC,YAAU,GACrCxC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,OACH+C,MAAM,2BACNC,KAAK,OACLlB,MAAOb,EACPiC,SAAUtC,KAAKU,qBACf2B,WAAS,IAEb/C,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,UACH+C,MAAM,eACNC,KAAK,UACLlB,MAAOmG,EACP/E,SAAUtC,KAAKiL,mBAEnB3L,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,WACH+C,MAAM,iCACNC,KAAK,WACLG,KAAK,WACLrB,MAAOZ,EACPgC,SAAUtC,KAAKW,oBAGfX,KAAKJ,MAAMP,OACXC,EAAAC,EAAAC,cAACiD,EAAD,CAAuBrD,GAAG,eAAeC,MAAOW,KAAKJ,MAAMP,QAE/DC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACItD,GAAG,eACHmD,KAAK,SACLL,WAAS,EACTN,QAAQ,YACRe,MAAM,UACNtB,UAAWD,EAAQyB,OACnBD,QAAS5C,KAAKO,WAPlB,4BAWAjB,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAMC,WAAS,GACXzD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACT3D,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAWC,GAAIC,GAAO8H,MAAM5H,MAA5B,2HA5GMC,IAAMC,WAqHzBC,OApJA,SAACC,GAAD,OAA8BC,YAAa,CACtDrC,MAAO,CACH+C,UAAWX,EAAMK,QAAQ,GACzBH,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBtC,OAAQ,CACJQ,OAAQ0B,EAAMK,QAAQ,GACtBC,gBAAiBN,EAAMO,QAAQC,UAAUC,MAE7CtC,KAAM,CACFuC,MAAO,OACPC,UAAWX,EAAMK,QAAQ,IAE7BlB,OAAQ,CACJb,OAAQ0B,EAAMK,QAAQ,EAAG,EAAG,OAoIrBN,CAAmBuH,ICxJrBG,GAAmB,mBACnBC,GAAgB,gBAKtB,SAASC,GAAmB/D,GAC/B,OAAO,SAACT,GACJC,EAAUC,KAAK,YAAaO,GACvBL,KAAK,SAACrC,GACH,GAAwB,MAApBA,EAASsC,OACT,MAAM,IAAIjC,MAAM,uBAGpB,OAAOL,EAAS6B,SAEnBQ,KAAK,SAACZ,GAyBZ,IAA+Bc,EAxBtBN,GAwBsBM,EAxBS,CAC3BC,OAAQf,EAAKjH,GACbiB,YAAagG,EAAKW,aAClBK,QAAShB,EAAKgB,SAsBvB,CACH9E,KAAM4I,GACN7D,QAASH,KAtBDN,EAASU,YAAKnE,GAAOoE,IAAIlE,SAE5BmE,MAAM,SAACC,GA6Bb,IAA4BC,EA5BnBd,GA4BmBc,EA5BS,CACxBtI,MAAOqI,EAAI/C,SA4BpB,CACHpC,KAAM6I,GACN9D,QAASK,QCzDjB,IASeC,eATS,SAACxH,GAAD,MAAsB,CAC1Cf,MAAOe,EAAMyH,UAAUxI,QAEA,SAACwH,GAAD,MAA2D,CAClFxD,SAAU,SAACwC,GACPgB,EAASwE,GAAmBxF,OAIrB+B,CAA6C0D,ICZtDpD,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnCpC,MAAO,CACH+C,UAAWX,EAAMK,QAAQ,GACzBH,QAAS,OACTC,cAAe,SACfC,WAAY,aAgBLyH,GAZc,WACzB,IAAMnK,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQE,OACpBhC,EAAAC,EAAAC,cAACgM,GAAD,+ICWVC,eACF,SAAAA,EAAY7L,GAAsC,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyL,IAC9C5L,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2L,GAAAtL,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTsL,gBAAiB,IAErB7L,EAAK8L,mBAAqB9L,EAAK8L,mBAAmBnL,KAAxBV,OAAAW,EAAA,EAAAX,CAAAD,IANoBA,kFAS/Be,GAAwC,IAAAgL,EAAA5L,KAGvD,GAFAY,EAAEC,iBAEqB,OAAnBD,EAAEK,OAAO4K,MAAb,CAIA,IAAMC,EAAS,IAAIC,WACbC,EAAOpL,EAAEK,OAAO4K,MAAM,GAE5BC,EAAOG,UAAY,WACf,GAA6B,kBAAlBH,EAAOI,OACd,MAAM,IAAIjH,MAGd2G,EAAK5K,SAAS,CACVgL,KAAMA,EACNN,gBAAiBI,EAAOI,UAIhCJ,EAAOK,cAAcH,qCAGhB,IACG5K,EAAYpB,KAAKJ,MAAjBwB,QACAsK,EAAoB1L,KAAKI,MAAzBsL,gBACJU,EAAe,KAgBnB,OAfAC,QAAQC,IAAIZ,GAGRU,EADAV,EACgBpM,EAAAC,EAAAC,cAAA,OAAK+M,IAAI,iCAAQC,IAAKd,IAGlCpM,EAAAC,EAAAC,cAACiN,GAAAlN,EAAD,KACID,EAAAC,EAAAC,cAACkN,GAAAnN,EAAD,CAAQ8B,UAAWD,EAAQI,QACvBlC,EAAAC,EAAAC,cAACmN,GAAA,EAAD,OAEJrN,EAAAC,EAAAC,cAACoN,GAAArN,EAAD,kCAMRD,EAAAC,EAAAC,cAACqN,GAAAtN,EAAD,CACIwD,WAAS,EACT+J,UAAU,MACVC,QAAQ,gBACRjJ,WAAW,UAEXxE,EAAAC,EAAAC,cAACqN,GAAAtN,EAAD,CAAMyD,MAAI,EAACC,GAAI,GACVmJ,GAEL9M,EAAAC,EAAAC,cAACqN,GAAAtN,EAAD,CAAMyD,MAAI,EAACC,GAAI,GACX3D,EAAAC,EAAAC,cAAA,SACIwN,OAAO,UACP3L,UAAWD,EAAQ6L,OACnB7N,GAAG,uBACHmD,KAAK,OACLD,SAAUtC,KAAK2L,qBAEnBrM,EAAAC,EAAAC,cAAA,SAAO0N,QAAQ,wBACX5N,EAAAC,EAAAC,cAAC2N,GAAA5N,EAAD,CAAQqC,QAAQ,WAAWD,UAAU,OAAON,UAAWD,EAAQgM,QAA/D,oBAxEe7J,IAAMC,WAkF9BC,OAtGA,SAACC,GAAD,OAA8BC,KAAa,CACtDsJ,OAAQ,CACJrJ,QAAS,QAEbpC,OAAQ,CACJQ,OAAQ0B,EAAMK,QAAQ,IAE1BqJ,OAAQ,CACJpL,OAAQ0B,EAAMK,QAAQ,OA8FfN,CAAmBgI,sDCtE5B4B,eACF,SAAAA,EAAYzN,GAA+B,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqN,IACvCxN,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuN,GAAAlN,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTgC,KAAM,GACNkL,YAAa,GACbC,MAAO,EACPC,mBAAoB,GAGxB3N,EAAKU,UAAYV,EAAKU,UAAUC,KAAfV,OAAAW,EAAA,EAAAX,CAAAD,IACjBA,EAAK4N,cAAgB5N,EAAK4N,cAAcjN,KAAnBV,OAAAW,EAAA,EAAAX,CAAAD,IACrBA,EAAK6N,qBAAuB7N,EAAK6N,qBAAqBlN,KAA1BV,OAAAW,EAAA,EAAAX,CAAAD,IAC5BA,EAAK8N,kBAAoB9N,EAAK8N,kBAAkBnN,KAAvBV,OAAAW,EAAA,EAAAX,CAAAD,IACzBA,EAAK+N,eAAiB/N,EAAK+N,eAAepN,KAApBV,OAAAW,EAAA,EAAAX,CAAAD,IAdiBA,yEAiBjCe,GACNA,EAAEC,iBADyB,IAAAC,EAE8Bd,KAAKI,MAAtDgC,EAFmBtB,EAEnBsB,KAAMkL,EAFaxM,EAEbwM,YAAaC,EAFAzM,EAEAyM,MAAOC,EAFP1M,EAEO0M,mBAE7BA,EAOLxN,KAAKJ,MAAMiO,SAASzL,EAAMkL,EAAaC,EAAOC,GAN1CxN,KAAKgB,SAAS,CACV8M,cAAe,yHAQblN,GACVZ,KAAKgB,SAAS,CACVoB,KAAMxB,EAAEK,OAAOC,qDAIFN,GACjBZ,KAAKgB,SAAS,CACVsM,YAAa1M,EAAEK,OAAOC,kDAIZN,EAA2BmN,GACzC/N,KAAKgB,SAAS,CACVwM,mBAAoBQ,OAAOpN,EAAEK,OAAOC,gDAI7BN,GACX,IAAMqN,EAAQrN,EAAEK,OAAOC,MAGlBgN,KAAUC,UAAUF,EAAO,CAAEG,YAAY,IAK9CpO,KAAKgB,SAAS,CACVuM,MAAOS,OAAOC,KALdrN,EAAEC,kDASD,IAAAwN,EAC2BrO,KAAKJ,MAA7BwB,EADHiN,EACGjN,QAASkJ,EADZ+D,EACY/D,WADZnJ,EAEmEnB,KAAKI,MAArEgC,EAFHjB,EAEGiB,KAAMkL,EAFTnM,EAESmM,YAAaC,EAFtBpM,EAEsBoM,MAAOC,EAF7BrM,EAE6BqM,mBAAoBM,EAFjD3M,EAEiD2M,cAEtD,OACIxO,EAAAC,EAAAC,cAACF,EAAAC,EAAMmJ,SAAP,KACIpJ,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,kCAGAtC,EAAAC,EAAAC,cAAA,QAAM6B,UAAWD,EAAQS,KAAMC,YAAU,GACrCxC,EAAAC,EAAAC,cAAC8O,GAAD,MAEAhP,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,OACH+C,MAAM,qBACNC,KAAK,OACLlB,MAAOkB,EACPE,SAAUtC,KAAKyN,cACfpL,WAAS,IAEb/C,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,cACH+C,MAAM,2BACNC,KAAK,cACLlB,MAAOoM,EACPhL,SAAUtC,KAAK0N,qBACfa,WAAS,EACTC,KAAM,IAGVlP,EAAAC,EAAAC,cAACiP,GAAA,EAAD,CAAYvB,QAAQ,mBAApB,4BACA5N,EAAAC,EAAAC,cAACkP,GAAA,EAAD,CACIrN,UAAWD,EAAQuN,WACnBzN,MAAOsM,EACPlL,SAAUtC,KAAK2N,kBACfiB,WAAY,CACRxM,KAAM,WACNhD,GAAI,oBAGRE,EAAAC,EAAAC,cAACqP,GAAA,EAAD,CAAU3N,MAAO,GACb5B,EAAAC,EAAAC,cAAA,gBAGA8K,EAAWC,IAAI,SAACC,GAAD,OACXlL,EAAAC,EAAAC,cAACqP,GAAA,EAAD,CAAU3N,MAAOsJ,EAASpL,IAAKoL,EAASG,iBAKhDmD,GACAxO,EAAAC,EAAAC,cAACiD,EAAD,CAAuBrD,GAAG,kBAAkBC,MAAOyO,IAEvDxO,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACIH,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,QACH+C,MAAM,eACNC,KAAK,QACLlB,MAAOqM,EACPjL,SAAUtC,KAAK4N,iBAGf5N,KAAKJ,MAAMP,OACXC,EAAAC,EAAAC,cAACiD,EAAD,CAAuBrD,GAAG,aAAaC,MAAOW,KAAKJ,MAAMP,QAE7DC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACItD,GAAG,aACHmD,KAAK,SACLL,WAAS,EACTN,QAAQ,YACRe,MAAM,UACNtB,UAAWD,EAAQyB,OACnBD,QAAS5C,KAAKO,WAPlB,qCA5IYgD,IAAMC,WA6JvBC,OA5LA,SAACC,GAAD,OAA8BC,YAAa,CACtD9B,KAAM,CACFuC,MAAO,MACPC,UAAWX,EAAMK,QAAQ,IAE7B4K,WAAY,CACRG,SAAU,QACV9M,OAAQ0B,EAAMK,QAAQ,EAAG,EAAG,IAEhClB,OAAQ,CACJb,OAAQ0B,EAAMK,QAAQ,EAAG,EAAG,OAkLrBN,CAAmB4J,IChMrB0B,GAAuB,uBACvBC,GAAoB,oBAK1B,SAASC,GAAe7M,EAAckL,EAAqBC,EAAe2B,GAC7E,OAAO,SAACrI,GACJ,IAAMS,EAAmB,CACrBlF,OAAMkL,cAAaC,QAAO4B,YAAaD,GAE3CpI,EAAUC,KAAK,QAASO,GACnBL,KAAK,SAACrC,GACH,IAAKA,EAAS4B,GACV,MAAM,IAAIvB,MAAM,uBAEpB,OAAOL,EAAS6B,SAEnBQ,KAAK,SAACZ,GAmBZ,IAA8B+I,EAlBrBvI,GAkBqBuI,EAlBS/I,EAAKjH,GAmBxC,CACHmD,KAAMwM,GACNzH,QAAS,CAAE8H,aApBHvI,EAASU,YAAKnE,GAAOoE,IAAIlE,SAE5BmE,MAAM,SAACC,GA2Bb,IAA2B2H,EA1BlBxI,GA0BkBwI,EA1BS,CACvBhQ,MAAOqI,EAAI/C,SA0BpB,CACHpC,KAAMyM,GACN1H,QAAS+H,QCpDjB,IAeezH,eAfS,SAACxH,GAErB,IAAMkK,EAAalK,EAAMkK,WAAWA,WAAWgF,OAAO,SAAC9E,GAAD,OAAoD,IAAtBA,EAASC,WAE7F,MAAO,CACHpL,MAAOe,EAAMyH,UAAUxI,MACvBiL,eAGmB,SAACzD,GAAD,MAA8D,CACrFgH,SAAU,SAACzL,EAAckL,EAAqBC,EAAe2B,GACzDrI,EAASoI,GAAe7M,EAAMkL,EAAaC,EAAO2B,OAI3CtH,CAA6CyF,ICrB/CkC,GAAkB,kBAClBC,GAAwB,wBCF9B,IAAMC,GAAb,SAAA/K,GAAA,SAAA+K,IAAA,OAAA3P,OAAAC,EAAA,EAAAD,CAAAE,KAAAyP,GAAA3P,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2P,GAAArK,MAAApF,KAAAqF,YAAA,OAAAvF,OAAAgF,EAAA,EAAAhF,CAAA2P,EAAA/K,GAAA+K,EAAA,CAAA3P,OAAAkF,EAAA,EAAAlF,CAAmCmF,QC+DnC,IAAMyK,GAA2B,WAC7B,MAAO,CACHnN,KA1D6B,0BAoE/BoN,GAA6B,SAAC3M,GAChC,MAAO,CACHT,KArE+B,0BAsE/B+E,QAAS,CACLtE,UAONiF,GAA0B,WAC5B,MAAO,CACH1F,KA/E4B,yBC+BrBlD,GAbD,WAAwEgG,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,IAAAA,UAAA,GAClF,QADkFA,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,GACnE3H,MACX,KAAKgN,GACD,MAAO,CAAEM,UArBQ,YAqBkBC,UAAW,KAClD,KAAKN,GACL,IDvB4B,uBCwB5B,IhBtB2B,sBgBuBvB,MAAO,CAAEK,UAxBc,wBAwBkBC,UAAW,KACxD,QACI,MAAO,CAAED,UA5BE,uBCHRE,GAJgB,kBAC3BzQ,EAAAC,EAAAC,cAAA,6BCGWwQ,GAJ2B,kBACtC1Q,EAAAC,EAAAC,cAAA,qCCQSyQ,GAAyB,kBAClCC,aACIC,aAAU,SAACvQ,GAAD,MAAmB,CACzBiQ,UAAWjQ,EAAMiQ,aAErBO,aACI,SAACxQ,GAAD,MHPiB,cGOKA,EAAMiQ,WAC5BQ,aAAgBN,KAEpBK,aACI,SAACxQ,GAAD,MHVuB,0BGUDA,EAAMiQ,WAC5BQ,aAAgBL,OCftB9H,GAAYC,YAAW,SAAAzE,GAAK,MAAK,CACnCpC,MAAO,CACH+C,UAAWX,EAAMK,QAAQ,GACzBH,QAAS,OACTC,cAAe,SACfC,WAAY,aAkBLmM,QAZmB,WAC9B,IAAM7O,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQE,OACpBhC,EAAAC,EAAAC,cAAC8Q,GAAD,UCfDC,GANgB,kBAC3BjR,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,oDCoBFgR,eACF,SAAAA,EAAY5Q,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwQ,IACtB3Q,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0Q,GAAArQ,KAAAH,KAAMJ,KAED6Q,SAAW5Q,EAAK4Q,SAASjQ,KAAdV,OAAAW,EAAA,EAAAX,CAAAD,IAHMA,wEAMjBe,GACLA,EAAEC,iBAEFb,KAAKJ,MAAMgD,QAAQhC,oCAGd,IAAAyN,EACoCrO,KAAKJ,MAAtC2J,EADH8E,EACG9E,QAASmH,EADZrC,EACYqC,WAAYtP,EADxBiN,EACwBjN,QAE7B,OACIuP,EAAA,cAACA,EAAA,SAAD,KACIA,EAAA,cAACjO,EAAA,EAAD,CACIrB,UAAWD,EAAQgM,OACnBwD,SAAUrH,EACV3G,QAAS5C,KAAKyQ,UAEbC,GAEJnH,GAAWoH,EAAA,cAAChI,EAAA,EAAD,CAAkBC,KAAM,GAAIvH,UAAWD,EAAQyP,yBAzBtCtN,aA+BtBE,OAlDA,SAACC,GAAD,OAA8BC,YAAa,CACtDyJ,OAAQ,CACJpL,OAAQ0B,EAAMK,QAAQ,EAAG,EAAG,IAEhC8M,eAAgB,CACZrI,SAAU,WACVhB,IAAK,MACLe,KAAM,MACNlE,WAAY,GACZyM,YAAa,OAyCNrN,CAAmB+M,ICrB5BO,eACF,SAAAA,EAAYnR,GAAyB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+Q,IACjClR,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiR,GAAA5Q,KAAAH,KAAMJ,KAEDQ,MAAQ,CACT4Q,WAAY,IAGhBnR,EAAKoR,oBAAsBpR,EAAKoR,oBAAoBzQ,KAAzBV,OAAAW,EAAA,EAAAX,CAAAD,IAC3BA,EAAKqR,kBAAoBrR,EAAKqR,kBAAkB1Q,KAAvBV,OAAAW,EAAA,EAAAX,CAAAD,IARQA,mFAWjBe,GAChB,IAAMoQ,EAAapQ,EAAEK,OAAOC,MAExB8P,EAAWpB,OAAS,IAInB1B,KAAUiD,cAAcH,IAA8B,KAAfA,IAI5ChR,KAAKgB,SAAS,CACVgQ,WAAYA,EAAWI,0DAIbxQ,GAAqB,IACnBxB,EAASY,KAAKJ,MAAtBoD,KAAQ5D,GACR4R,EAAehR,KAAKI,MAApB4Q,WACRhR,KAAKJ,MAAMyR,YAAYjS,EAAI4R,oCAGtB,IAAA3C,EACyCrO,KAAKJ,MAA3CoD,EADHqL,EACGrL,KAAMsO,EADTjD,EACSiD,OAAQlQ,EADjBiN,EACiBjN,QAASmQ,EAD1BlD,EAC0BkD,WACzBC,EAAYF,EAAOE,UACnBC,EAAWH,EAAOI,SAExB,OACIpS,EAAAC,EAAAC,cAACF,EAAAC,EAAMmJ,SAAP,KACIpJ,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQuQ,UAAWpF,IAAKvJ,EAAKZ,KAAMoK,IAAKxJ,EAAK4O,eAC7DtS,EAAAC,EAAAC,cAACoN,GAAArN,EAAD,CAAYqC,QAAQ,MAAMoB,EAAKZ,MAC/B9C,EAAAC,EAAAC,cAACoN,GAAArN,EAAD,CAAYqC,QAAQ,MAApB,OAAA8D,OAA8B1C,EAAKuK,QACnCjO,EAAAC,EAAAC,cAAA,QAAM6B,UAAWD,EAAQS,KAAMC,YAAU,GACrCxC,EAAAC,EAAAC,cAACqS,GAAAtS,EAAD,CACIqC,QAAQ,WACRI,OAAO,SACPC,UAAQ,EACRC,WAAS,EACT9C,GAAG,aACH+C,MAAM,iCACNC,KAAK,aACL0P,WAAW,yFACXzS,QAASmS,EACTtQ,MAAOlB,KAAKI,MAAM4Q,WAClB1O,SAAUtC,KAAKiR,oBACf5O,WAAS,IAGTmP,GACAlS,EAAAC,EAAAC,cAACiD,EAAD,CAAuBrD,GAAG,aAAaC,MAAOmS,IAElDlS,EAAAC,EAAAC,cAACuS,GAAD,CACInP,QAAS5C,KAAKkR,kBACdR,WAAY,eACZnH,QAASgI,IAGTE,GACAnS,EAAAC,EAAAC,cAACiD,EAAD,CAAuBrD,GAAG,YAAYC,MAAOoS,aAtElClO,IAAMC,WA8E1BC,OAtGA,SAACC,GAAD,OAA8BC,YAAa,CACtDgO,UAAW,CACPvN,MAAO,OACPkF,SAAU,QACV0I,OAAQ,OACRC,UAAW,UAEfpQ,KAAM,CACFuC,MAAO,OACPC,UAAWX,EAAMK,QAAQ,EAAE,EAAG,OA6FvBN,CAAmBsN,IC9EnBmB,GAAA,qDA7BH3M,QAAkBjB,EAAOE,gBACzBgB,eAA8B,2FAE5BlC,mFACOmC,MAAK,GAAAC,OAAI1F,KAAKuF,SAATG,OAAmBpC,GAAQ,CACzCqC,OAAQ,MACRC,QAAS5F,KAAKwF,iOAIXlC,EAAcuC,gFACjBC,EAA6B,CAC7BH,OAAQ,OACRI,KAAM,OACNH,QAAS9F,OAAOkG,OAAO,GAAIhG,KAAKwF,eAAgB,CAC5CS,eAAgB,qBAEpBC,YAAa,eAGbL,IACAC,EAAcO,KAAOC,KAAKC,UAAUV,aAI3BJ,MAAK,GAAAC,OAAI1F,KAAKuF,SAATG,OAAmBpC,GAAQwC,0JC7BxCqM,GAAb,SAAAhN,GAAA,SAAAgN,IAAA,OAAArS,OAAAC,EAAA,EAAAD,CAAAE,KAAAmS,GAAArS,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqS,GAAA/M,MAAApF,KAAAqF,YAAA,OAAAvF,OAAAgF,EAAA,EAAAhF,CAAAqS,EAAAhN,GAAAgN,EAAA,CAA0C1N,GCW7B2N,GAAY,YACZC,GAAc,cACdC,GAAW,WACXC,GAAkB,kBAKxB,SAASC,GAAcpD,EAAgB4B,GAC1C,OAAO,SAACnK,GACJiD,QAAQC,QAAQ,WACZlD,EA6ED,CACHtE,KAAM6P,OA5EDnL,KAAK,WACF,OAAOwL,GAAc1L,KAAK,QAAS,CAC/B2L,YAAa1B,EACb2B,QAAS,SAGhB1L,KAAK,SAACrC,GACH,IAAKA,EAAS4B,GACV,MAAM,IAAI2L,GACN,iDAAkDvN,GAI1D,OAAOA,EAAS6B,SAEnBgB,MAAM,SAACC,GAEJ,MAAM,IAAIyK,GAAqBzK,EAAI/C,WAEtCsC,KAAK,SAACZ,GACH,OAAOS,EAAUC,KAAK,OAAQ,CAC1B6L,QAASxD,EACTyD,MAAOxM,EAAKwM,UAGnB5L,KAAK,SAACrC,GACH,IAAKA,EAAS4B,GACV,MAAM,IAAItB,EACN,oCAAqCN,GAI7C,OAAOA,EAAS6B,SAEnBQ,KAAK,WACFJ,EAgDL,CACHtE,KAAM8P,KAhDExL,EAASU,YAAKnE,GAAO0P,YAAYxP,SAEpCmE,MAAM,SAACC,GACJ,GAAIA,aAAejD,EAAe,CAC9B,IACIsO,EADElO,EAAM6C,EAAIsL,cAWhB,OAPID,EADArL,aAAeyK,GACNc,GAEAC,GAKTrO,EACOA,EAAI4B,OACNQ,KAAK,SAACZ,GACCA,GAAQA,EAAKhH,MACbwH,EAASkM,EAAO1M,EAAKhH,QAIzBwH,EAASkM,EAAOrL,EAAI/C,iBAIhCkC,EAASkM,EAAOrL,EAAI/C,UAIxBkC,EAASqM,GAAcxL,EAAI/C,aAyBpC,SAASsO,GAAoB5T,GAChC,MAAO,CACHkD,KAAMgQ,GACNjL,QAAS,CACLjI,WAAO6K,EACPiJ,aAAc,CACV3B,UAAWnS,KASpB,SAAS6T,GAAc7T,GAC1B,MAAO,CACHkD,KAAM+P,GACNhL,QAAS,CACLjI,WAAO6K,EACPiJ,aAAc,CACVzB,SAAUrS,KCvI1B,ICOgB+T,GDIDxL,eAXS,SAACxH,GAAD,MAAiB,CACrC4C,KAAM5C,EAAMiT,YAAYrQ,KACxBsO,OAAQlR,EAAMyH,UAAUsL,aACxB5B,WAAYnR,EAAMkT,QAAQ/B,aAEH,SAAC1K,GAAD,MAAoB,CAC3CwK,YAAa,SAACjC,EAAgB4B,GAC1BnK,EAAS2L,GAAcpD,EAAQ4B,OAIxBpJ,CAA6CmJ,IEH7CwC,GARe,WAC1B,OACIjU,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAACgU,GAAD,QCAGC,GAJmB,kBAC9BnU,EAAAC,EAAAC,cAACsL,GAAD,2BCKW4I,GANmB,kBAC9BpU,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,qDCoDFmU,eACF,SAAAA,EAAY/T,GAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2T,IACtB9T,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6T,GAAAxT,KAAAH,KAAMJ,KAEDA,MAAMuJ,KAAKtJ,EAAKD,MAAMgU,MAAM/N,OAAO+M,SACxC/S,EAAKqR,kBAAoBrR,EAAKqR,kBAAkB1Q,KAAvBV,OAAAW,EAAA,EAAAX,CAAAD,IAJHA,iFAORe,GACdA,EAAEC,iBACFb,KAAKJ,MAAMiU,WAAW7T,KAAKJ,MAAMoD,KAAK5D,qCAGjC,IAAAiP,EAC8BrO,KAAKJ,MAAhCwB,EADHiN,EACGjN,QAAS4B,EADZqL,EACYrL,KAAMuG,EADlB8E,EACkB9E,QAEvB,OACIjK,EAAAC,EAAAC,cAACsL,GAAD,KAEQvB,EACIjK,EAAAC,EAAAC,cAACgK,EAAD,MAEAlK,EAAAC,EAAAC,cAACF,EAAAC,EAAMmJ,SAAP,iBAEIpJ,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYL,UAAWD,EAAQ0S,MAAOlS,QAAQ,MAAMoB,EAAKZ,MACzD9C,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAMC,WAAS,EAACgB,QAAS,GACrBzE,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,GACN1D,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQuQ,UAAWpF,IAAKvJ,EAAKZ,KAAMoK,IAAKxJ,EAAK4O,gBAEjEtS,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAI8Q,IAAE,EAAChR,WAAS,GAC3BzD,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAACF,WAAS,EAAC+J,UAAU,SAAS/I,QAAS,GAChDzE,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACT3D,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQ4S,aACpB1U,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,4BACAtC,EAAAC,EAAAC,cAACyU,GAAA,EAAD,CAAS5S,UAAWD,EAAQ8S,QAAStS,QAAQ,WAC7CtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,SAASoB,EAAKsK,cAGtChO,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQ4S,aACpB1U,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,4BACAtC,EAAAC,EAAAC,cAACyU,GAAA,EAAD,CAAS5S,UAAWD,EAAQ8S,QAAStS,QAAQ,WAC7CtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,SAChBtC,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAMC,GAAIC,GAAO+Q,iBAAiBC,QAAQpR,EAAKwH,SAASC,WACnDzH,EAAKwH,SAAS6J,oBAFvB,MAGerR,EAAKwH,SAASG,eAIjCrL,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQ4S,aACpB1U,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,sBACAtC,EAAAC,EAAAC,cAACyU,GAAA,EAAD,CAAS5S,UAAWD,EAAQ8S,QAAStS,QAAQ,WAC7CtC,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CACIC,WAAS,EACT+J,UAAU,MACVC,QAAQ,SACRjJ,WAAW,SACXwQ,KAAK,SACLvQ,QAAS,GAETzE,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,GACN1D,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAW7B,UAAWD,EAAQmT,KACnBpR,GAAIC,GAAO6G,KAAKmK,QAAQpR,EAAKwR,WACpClV,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CACIF,UAAWD,EAAQI,QAASwB,EAAKyR,OAAOpU,YAAYqU,OAAO,MAGvEpV,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACT3D,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,SAASoB,EAAKyR,OAAOpU,oBAQrEf,EAAAC,EAAAC,cAACmV,GAAA,EAAD,CAAQhS,MAAM,UAAU6F,SAAS,QAAQnH,UAAWD,EAAQwT,QACxDtV,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CACIC,WAAS,EACTgB,QAAS,EACT+I,UAAU,MACVhJ,WAAW,UAEXxE,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,GACN1D,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,OAA2BoB,EAAKuK,QAEpCjO,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,GACN1D,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACId,QAAQ,YACRP,UAAWD,EAAQyT,UACnBjS,QAAS5C,KAAKkR,mBAHlB,4BAtFjB3N,IAAMC,WAwGdyM,QAA8BxM,IAjJ9B,SAACC,GAAD,OAA8BC,YAAa,CACtDmQ,MAAO,CACH9R,OAAQ0B,EAAMK,QAAQ,IAE1B4N,UAAW,CACPvN,MAAO,OACPkF,SAAU,QACV0I,OAAQ,QAEZxQ,OAAQ,CACJ4C,MAAO,OACP4N,OAAQ,QAEZkC,QAAS,CACLlS,OAAQ0B,EAAMK,QAAQ,IAE1BiQ,YAAa,CACT3P,UAAWX,EAAMK,QAAQ,GACzB+Q,aAAcpR,EAAMK,QAAQ,IAEhCwQ,KAAM,CACFQ,eAAgB,QAEpBH,OAAQ,CACJpN,IAAK,OACLa,OAAQ,GAEZwM,UAAW,CACP7S,OAAQ0B,EAAMK,QAAQ,OAqHeN,CAAmBkQ,KC5IjD/L,eAdS,SAACxH,GAAD,MAAsB,CAC1CmJ,QAASnJ,EAAMsJ,KAAKsL,kBACpBhS,KAAM5C,EAAMiT,YAAYrQ,KACxB6M,UAAWzP,EAAMf,MAAMwQ,YAEA,SAAChJ,GAAD,MAAoB,CAC3CsC,KAAM,SAACiG,GACHvI,ElBAD,SAA6BuI,GAChC,OAAO,SAACvI,GACJiD,QAAQC,QAAQ,WACZlD,EAAS6I,QAERzI,KAAK,kBAAMH,EAAUkD,IAAV,UAAAtE,OAAwB0J,EAAxB,YACXnI,KAAK,SAACrC,GACH,IAAKA,EAAS4B,GAAI,CACd,GAAwB,MAApB5B,EAASsC,OACT,MAAM,IAAIuI,GAAc,kBAG5B,MAAM,IAAIvK,EAAiB,2CAA4CN,GAG3E,OAAOA,EAAS6B,SAEnBQ,KAAK,SAACZ,GACHQ,EAAS8I,GAA2B,CAChCvQ,GAAIiH,EAAKjH,GACT8H,OAAQb,EAAKa,OACbsN,SAAUnO,EAAK4O,UACfR,OAAQ,CACJrV,GAAIiH,EAAKoO,OAAOrV,GAChBiB,YAAagG,EAAKoO,OAAOzN,aACzBmD,aAAc9D,EAAKoO,OAAOrK,gBAE9B8K,QAAS7O,EAAK8O,SACdC,MAAO/O,EAAK+O,MACZhT,KAAMiE,EAAKjE,KACXmL,MAAOlH,EAAKkH,MACZqE,aAAc,2DACdtE,YAAajH,EAAKiH,YAClB9C,SAAU,CACNpL,GAAIiH,EAAKmE,SAASpL,GAClBqL,SAAUpE,EAAKmE,SAASE,UACxBC,aAActE,EAAKmE,SAASI,cAC5ByJ,mBAAoBhO,EAAKmE,SAAS6K,sBAEtCC,UAAWjP,EAAKkP,gBAGvB9N,MAAM,SAACC,GACJb,EAASoB,SkB3CRuN,CAAoBpG,KAEjCyE,WAAY,SAACzE,GACTvI,EAASU,YAAKnE,GAAOqS,IAAIrB,QAAQhF,QAI1BxH,CAA6C+L,kCCdtDzL,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnCiO,UAAW,CACPK,OAAQ,WAWV0D,GAA8C,SAAAvW,GAE9C,IADFiQ,EACEjQ,EADFiQ,OAAQuG,EACNxW,EADMwW,SAAU7B,EAChB3U,EADgB2U,MAAOvG,EACvBpO,EADuBoO,MAEnBnM,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAACoW,GAAA,EAAD,KACItW,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAWC,GAAIC,GAAOJ,KAAKoR,QAAQhF,IAC/B9P,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQuQ,UAAWnF,IAAKmJ,EAAUpJ,IAAKuH,KAE3DxU,EAAAC,EAAAC,cAACqW,GAAA,EAAD,CACI/B,MAAOA,EACPgC,SAAQ,OAAApQ,OAAM6H,iBCzBxBrF,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnCqS,KAAM,CACF3R,MAAO,QACP4N,OAAQ,YAQVgE,GAAiD,SAAA7W,GAAkC,IAA/B8W,EAA+B9W,EAA/B8W,MAChD7U,EAAU8G,KAEVgO,EAAiB,GAH8DC,GAAA,EAAAC,GAAA,EAAAC,OAAAnM,EAAA,IAKrF,QAAAoM,EAAAC,EAAmBN,EAAnBO,OAAAC,cAAAN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAA0B,KAAfnT,EAAesT,EAAApV,MACtBgV,EAAe3O,KACXjI,EAAAC,EAAAC,cAACoX,GAAA,EAAD,CAAcvV,UAAWD,EAAQ2U,KAAMrW,IAAKsD,EAAK5D,IAC7CE,EAAAC,EAAAC,cAACqX,GAAD,CAAezH,OAAQpM,EAAK5D,GAAIuW,SAAU3S,EAAK4O,aAAckC,MAAO9Q,EAAKZ,KAAMmL,MAAOvK,EAAKuK,WARlB,MAAA7F,GAAA0O,GAAA,EAAAC,EAAA3O,EAAA,YAAAyO,GAAA,MAAAI,EAAAO,QAAAP,EAAAO,SAAA,WAAAV,EAAA,MAAAC,GAarF,OACI/W,EAAAC,EAAAC,cAACuX,GAAA,EAAD,CAAUC,KAAM,GACXd,mCC5BPhO,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnCuT,IAAK,CACDjV,OAAQ0B,EAAMK,QAAQ,GACtByE,SAAU,QACVhB,IAAK,OACLa,OAAQ,OACRC,MAAO,OACPlE,MAAO,QACP4N,OAAQ,YCKDpK,eATS,SAACxH,GAAD,MAAsB,IAEnB,SAACyG,GAAD,MAA8D,CACrFjE,QAAS,SAAChC,GACNA,EAAEC,iBACFgG,EAASU,YAAKnE,GAAO8T,KAAK5T,UAInBsE,CDGsD,SAAAzI,GAAiB,IAAdyD,EAAczD,EAAdyD,QAC9DxB,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAAC2X,GAAA5X,EAAD,CACI8B,UAAWD,EAAQ6V,IACnBtU,MAAM,YACNC,QAASA,GAETtD,EAAAC,EAAAC,cAAC4X,GAAA,EAAD,CAAMC,SAAS,aEtBrBnP,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnC4T,KAAM,CACF1T,QAAS,OACT2T,SAAU,OACVlT,UAAWX,EAAMK,QAAQ,GACzByT,eAAgB,eAChBC,SAAU,aAqBHxH,QAbmC,SAAA9Q,GAAkC,IAA/B8W,EAA+B9W,EAA/B8W,MAC3C7U,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQkW,MACpBhY,EAAAC,EAAAC,cAACkY,GAAD,CAAmBzB,MAAOA,IAC1B3W,EAAAC,EAAAC,cAACmY,GAAD,UC1BHC,GAAqB,CAC9BxY,GAAI,KACJiB,YAAa,QACbgH,QAAS,QACT8C,aAAc,GAIL0N,GAAwB,CACjC,CACIzY,GAAI,EACJ8H,OAAQ,UACRsN,SAAU,KACVC,OAAQ,CACJrV,GAAI,KACJiB,YAAa,WACbgH,QAAS,GACT8C,aAAc,GAElB+K,QAAS,KACT9S,KAAM,eACNmL,MAAO,IACPD,YAAa,2BACbsE,aAAc,2DACdpH,SAAU,CACNpL,GAAI,EACJuL,aAAc,4BACdF,SAAU,EACV4J,mBAAoB,kCAExBiB,UAAW,KAEf,CACIlW,GAAI,EACJ8H,OAAQ,UACRsN,SAAU,KACVC,OAAQ,CACJrV,GAAI,KACJiB,YAAa,WACbgH,QAAS,GACT8C,aAAc,GAElB+K,QAAS,KACT9S,KAAM,eACNmL,MAAO,IACPD,YAAa,2BACbsE,aAAc,2DACdpH,SAAU,CACNpL,GAAI,EACJuL,aAAc,4BACdF,SAAU,EACV4J,mBAAoB,kCAExBiB,UAAW,KAEf,CACIlW,GAAI,EACJ8H,OAAQ,UACRsN,SAAU,KACVC,OAAQ,CACJrV,GAAI,KACJiB,YAAa,WACbgH,QAAS,GACT8C,aAAc,GAElB+K,QAAS,KACT9S,KAAM,eACNmL,MAAO,IACPD,YAAa,2BACbsE,aAAc,2DACdpH,SAAU,CACNpL,GAAI,EACJuL,aAAc,4BACdF,SAAU,EACV4J,mBAAoB,kCAExBiB,UAAW,KAEf,CACIlW,GAAI,EACJ8H,OAAQ,UACRsN,SAAU,KACVC,OAAQ,CACJrV,GAAI,KACJiB,YAAa,WACbgH,QAAS,GACT8C,aAAc,GAElB+K,QAAS,KACT9S,KAAM,eACNmL,MAAO,IACPD,YAAa,2BACbsE,aAAc,2DACdpH,SAAU,CACNpL,GAAI,EACJuL,aAAc,4BACdF,SAAU,EACV4J,mBAAoB,kCAExBiB,UAAW,MCzFJ1N,eARS,SAACxH,GAAD,MAAsB,CAC1C6V,MAAO4B,GACPhI,UAAWzP,EAAMf,MAAMwQ,UACvBtG,SAAS,IAEc,SAAC1C,GAAD,MAAoB,IAGhCe,CAA6CkQ,ICD7C7H,QAN0B,kBACrC3Q,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,kCCKOoI,eAPS,SAACxH,GAAD,MAAsB,CAC1CyP,UAAWzP,EAAMf,MAAMwQ,UACvBtG,SAAS,IAEc,SAAC1C,GAAD,MAA8D,IAG1Ee,CAA6CmQ,ICAtD7P,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnClC,OAAQ,CACJQ,OAAQ0B,EAAMK,QAAQ,GACtBK,MAAO,QACP4N,OAAQ,SAEZgG,SAAU,CACN3T,UAAWX,EAAMK,QAAQ,OAuClBkM,QA9BmB,SAAA9Q,GAAqB,IAAlB8W,EAAkB9W,EAAlB8W,MAAOhM,EAAW9K,EAAX8K,KAClC7I,EAAU8G,KAEhB,OACI5I,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CACIC,WAAS,EACT+J,UAAU,MACVC,QAAQ,SACRjJ,WAAW,SACXwQ,KAAK,SACLvQ,QAAS,GAETzE,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,GACN1D,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAQF,UAAWD,EAAQI,QAASyI,EAAK5J,YAAYqU,OAAO,KAEhEpV,EAAAC,EAAAC,cAACsD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACT3D,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAAMqI,EAAK5J,eAGvCf,EAAAC,EAAAC,cAACyU,GAAA,EAAD,CAASrS,QAAQ,WACjBtC,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQ4W,UACpB1Y,EAAAC,EAAAC,cAACkY,GAAD,CAAmBzB,MAAOA,KAE9B3W,EAAAC,EAAAC,cAACmY,GAAD,SCtCG/P,eATS,SAACxH,GAAD,MAAsB,CAC1C6V,MAAO4B,GACP5N,KAAM2N,GACN/H,UAAWzP,EAAMf,MAAMwQ,UACvBtG,SAAS,IAEc,SAAC1C,GAAD,MAA8D,IAG1Ee,CAA6CqQ,aCL7CrQ,eANS,SAACxH,GAAD,MAAsB,CAC1C8X,aAAc9X,EAAMwJ,WAAWxC,SAER,SAACP,GAAD,MAAyB,IAGrCe,CCHoB,SAAAzI,GAAkD,IAApCqE,EAAoCrE,EAA/CwC,UAAsBuW,EAAyB/Y,EAAzB+Y,WAAeC,EAAUrY,OAAAsY,GAAA,EAAAtY,CAAAX,EAAA,4BACjF,IAAKqE,EACD,MAAM,IAAIyB,MAAM,wDAGpB,OACI3F,EAAAC,EAAAC,cAAC6Y,EAAA,EAADvY,OAAAkG,OAAA,GACQmS,EADR,CAEIG,OAAQ,SAAC1Y,GAAD,OACJsY,EACI5Y,EAAAC,EAAAC,cAACgE,EAAc5D,GAEfN,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAUlV,GAAIC,GAAO8H,MAAM5H,aCThCsE,eANS,SAACxH,GAAD,MAAsB,CAC1C8X,aAAc9X,EAAMwJ,WAAWxC,SAER,SAACP,GAAD,MAAyB,IAGrCe,CCHuB,SAAAzI,GAAkD,IAApCqE,EAAoCrE,EAA/CwC,UAAsBuW,EAAyB/Y,EAAzB+Y,WAAeC,EAAUrY,OAAAsY,GAAA,EAAAtY,CAAAX,EAAA,4BACpF,IAAKqE,EACD,MAAM,IAAIyB,MAAM,2DAGpB,OACI3F,EAAAC,EAAAC,cAAC6Y,EAAA,EAADvY,OAAAkG,OAAA,GACQmS,EADR,CAEIG,OAAQ,SAAC1Y,GAAD,OACHsY,EAGG5Y,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAUlV,GAAIC,GAAOmV,SAASjV,OAF9BhE,EAAAC,EAAAC,cAACgE,EAAc5D,SCV7BsI,GAAYC,KAAW,SAAAzE,GAAK,MAAK,CACnCpC,MAAO,CACH+C,UAAWX,EAAMK,QAAQ,GACzBH,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhB0U,SAAU,CACNnU,UAAWX,EAAMK,QAAQ,GACzB+Q,aAAcpR,EAAMK,QAAQ,IAEhC0U,IAAK,CACDrU,MAAO,OAEXgJ,OAAQ,CACJpL,OAAQ0B,EAAMK,QAAQ,OAmDf2U,GA/CW,WACtB,IAAMtX,EAAU8G,KACVyQ,EAAkBpV,IAAMqV,WAC1B,SAAChZ,EAAkBiZ,GAAnB,OAA2CvZ,EAAAC,EAAAC,cAAC0D,EAAA,EAADpD,OAAAkG,OAAA,CAAM8S,SAAUD,GAASjZ,GAAzB,8BAEzCmZ,EAAqBxV,IAAMqV,WAC7B,SAAChZ,EAAkBiZ,GAAnB,OAA2CvZ,EAAAC,EAAAC,cAAC0D,EAAA,EAADpD,OAAAkG,OAAA,CAAM8S,SAAUD,GAASjZ,GAAzB,0CAG/C,OACIN,EAAAC,EAAAC,cAACsL,GAAD,KACIxL,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQE,OACpBhC,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQqX,IAAKjM,IAAK,YAAaD,IAAK,YACpDjN,EAAAC,EAAAC,cAAA,OAAK6B,UAAWD,EAAQoX,UACpBlZ,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,oDAGAtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,sHAGAtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAYE,QAAQ,MAApB,sMAIJtC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACIC,MAAM,UACNT,WAAS,EACTb,UAAWD,EAAQgM,OACnBxL,QAAQ,YACRgH,KAAK,SACLjH,UAAWgX,EACXxV,GAAIC,GAAO8H,MAAM5H,OAErBhE,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACIC,MAAM,UACNT,WAAS,EACTb,UAAWD,EAAQgM,OACnBxL,QAAQ,WACRgH,KAAK,SACLjH,UAAWoX,EACX5V,GAAIC,GAAOC,SAASC,UC1C3BF,GAAgB,CACzBoE,IAAK,CACDlE,KAAM,IACN8Q,QAAS,iBAAM,MAEnBlJ,MAAO,CACH5H,KAAM,SACN8Q,QAAS,iBAAM,WAEnB/Q,SAAU,CACNC,KAAM,YACN8Q,QAAS,iBAAM,aAEnBmE,SAAU,CACNjV,KAAM,YACN8Q,QAAS,iBAAM,cAEnBD,iBAAkB,CACd7Q,KAAM,iCACN8Q,QAAS,SAAClF,GAAD,qBAAAxJ,OAAuCwJ,EAAvC,YAEbgI,KAAM,CACF5T,KAAM,QACN8Q,QAAS,iBAAM,UAEnBpR,KAAM,CACFM,KAAM,kBACN8Q,QAAS,SAAChF,GAAD,gBAAA1J,OAA8B0J,KAE3C4J,SAAU,CACN1V,KAAM,uBACN8Q,QAAS,SAAChF,GAAD,gBAAA1J,OAA8B0J,EAA9B,WAEbqG,IAAK,CACDnS,KAAM,sBACN8Q,QAAS,SAAChF,GAAD,gBAAA1J,OAA8B0J,EAA9B,UAEb0D,YAAa,CACTxP,KAAM,gBACN8Q,QAAS,iBAAM,kBAEnB6E,YAAa,CACT3V,KAAM,gCACN8Q,QAAS,SAAC8E,GAAD,uBAAAxT,OAA4CwT,KAEzDjP,KAAM,CACF3G,KAAM,kBACN8Q,QAAS,SAAChN,GAAD,gBAAA1B,OAA8B0B,KAE3C+R,YAAa,CACT7V,KAAM,iBACN8Q,QAAS,iBAAM,oBAIVgF,GAAqB,WAC9B,OACI9Z,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,KACI/Y,EAAAC,EAAAC,cAAC6Z,GAAD,CAAcC,OAAK,EAAChW,KAAMF,GAAOoE,IAAIlE,KAAW3B,UAAW+W,KAC3DpZ,EAAAC,EAAAC,cAAC6Z,GAAD,CAAcC,OAAK,EAAChW,KAAMF,GAAO8H,MAAM5H,KAAS3B,UAAWkJ,KAC3DvL,EAAAC,EAAAC,cAAC6Z,GAAD,CAAcC,OAAK,EAAChW,KAAMF,GAAOC,SAASC,KAAM3B,UAAW4J,KAC3DjM,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAOmV,SAASjV,KAAS3B,UAAW6X,KAC3Dla,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAO8T,KAAK5T,KAAa3B,UAAW8X,KAC3Dna,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAOJ,KAAKM,KAAa3B,UAAW+X,KAC3Dpa,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAO4V,SAAS1V,KAAS3B,UAAW4O,KAC3DjR,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAOqS,IAAInS,KAAc3B,UAAW4R,KAC3DjU,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAO0P,YAAYxP,KAAM3B,UAAW+R,KAC3DpU,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAO6V,YAAY3V,KAAM3B,UAAWgY,KAC3Dra,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAO6G,KAAK3G,KAAa3B,UAAWiY,KAC3Dta,EAAAC,EAAAC,cAAC+Z,GAAD,CAAWD,OAAK,EAAChW,KAAMF,GAAO+V,YAAY7V,KAAM3B,UAAW8R,KAC3DnU,EAAAC,EAAAC,cAAC6Y,EAAA,EAAD,CAAO1W,UAAWoO,OC1FxB3M,GAGD,CACD,CACIE,KAAM,IACNuW,SAAU,YAEd,CACIvW,KAAM,SACNuW,SAAU,gBAEd,CACIvW,KAAM,YACNuW,SAAU,gBAEd,CACIvW,KAAM,YACNuW,SAAU,iBAEd,CACIvW,KAAM,kBACNuW,SAAU,aAEd,CACIvW,KAAM,uBACNuW,SAAU,kBAEd,CACIvW,KAAM,sBACNuW,SAAU,iBAEd,CACIvW,KAAM,gBACNuW,SAAU,wBAEd,CACIvW,KAAM,QACNuW,SAAU,aAEd,CACIvW,KAAM,gCACNuW,SAAU,oBAEd,CACIvW,KAAM,kBACNuW,SAAU,aAEd,CACIvW,KAAM,iBACNuW,SAAU,sBAgCHC,GAdO,WAClB,OACIxa,EAAAC,EAAAC,cAACF,EAAAC,EAAMmJ,SAAP,KACIpJ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAlBc,WAG1B,IAFA,IAAMua,EAAqC,GAE3CC,EAAA,EAAAC,EAAoB7W,GAApB4W,EAAAC,EAAArK,OAAAoK,IAA4B,CAAvB,IAAME,EAAKD,EAAAD,GACZD,EAAgBxS,KACZjI,EAAAC,EAAAC,cAAA,MAAIE,IAAKwa,EAAML,UACXva,EAAAC,EAAAC,cAAC0D,EAAA,EAAD,CAAMC,GAAI+W,EAAM5W,MAAO4W,EAAML,YAKzC,OAAOE,EAQUI,KAGT7a,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC4a,GAAD,2EC7EGC,GAFmB,CCC9B,SAAAlb,GAAA,IAAuBmb,EAAvBnb,EAAuBmb,SAAvB,OACI,SAAC5D,GAAD,OACI,SAAC3D,GACT1G,QAAQkO,MAAMxH,EAAOxQ,MACrB8J,QAAQmO,KAAK,cAAezH,GAC5B,IAAM7G,EAASwK,EAAK3D,GAGpB,OAFA1G,QAAQC,IAAI,aAAcgO,KAC1BjO,QAAQoO,WACDvO,eCMLwO,GAAgC,CAClC7Q,SAAS,GAkDED,GA1CI,WAA6E,IAA5ExJ,EAA4EiF,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,GAAAA,UAAA,GAAnDqV,GAAc3H,EAAqC1N,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,EAC5F,OAAQ6I,EAAOxQ,MACX,KAAKmE,EACL,KAAKyE,GACD,OAAOrL,OAAA6a,GAAA,EAAA7a,CAAA,GACAM,EACA2S,EAAOzL,SAGlB,ItDzB8B,yBsD0B1B,IAAM2C,EAA6B8I,EAAOzL,QAAQU,SAASiC,KACvD2Q,EAIK,GAUT,OARI3Q,IACA2Q,EAAc,CACVxT,OAAQ6C,EAAK7K,GACbiB,YAAa4J,EAAK5J,YAClBgH,QAAS4C,EAAK5C,cAAW6C,IAI1BpK,OAAA6a,GAAA,EAAA7a,CAAA,GACAM,EACAwa,EAFP,CAGI/Q,SAAS,IAGjB,ItD9C2B,sBsD+CvB,OAAO/J,OAAA6a,GAAA,EAAA7a,CAAA,GACAM,EADP,CAEIyJ,SAAS,IAGjB,QACI,OAAOzJ,ICjDbsa,GAA+B,CACjCrb,WAAO6K,EACPiJ,aAAc,IAmBHtL,GAhBG,WAA6ExC,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,IAAAA,UAAA,OAAtC0N,EAAsC1N,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,EAC3F,OAAQ6I,EAAOxQ,MACX,KAAKoE,EACL,KAAKyE,GACL,KAAKmH,GACL,KAAKD,GACL,KAAKtD,GACD,OAAOlP,OAAA6a,GAAA,EAAA7a,CAAA,GACAiT,EAAOzL,SAGlB,QACI,OAAOoT,KCzBbA,GAAiC,GAcxBrH,GATK,WAA+E,IAA9EjT,EAA8EiF,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,GAAAA,UAAA,GAApDqV,GAAc3H,EAAsC1N,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,EAC/F,OAAQ6I,EAAOxQ,MACX,IzCN+B,0ByCO3B,OAAOzC,OAAA6a,GAAA,EAAA7a,CAAA,GAAIM,EAAX,CAAkB4C,KAAM+P,EAAOzL,QAAQtE,OAC3C,QACI,OAAO5C,ICTbsa,GAA0B,CAC5B/Q,WAAW,EACXqL,mBAAmB,GAoBRtL,GAjBF,WAAmE,IAAlEtJ,EAAkEiF,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,GAAAA,UAAA,GAA/CqV,GAC7B,QAD4ErV,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,GAC7D3H,MACX,I1CR6B,wB0CSzB,OAAOzC,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,EAAZ,CAAmB4U,mBAAmB,IAC1C,I1CT+B,0B0CU/B,I1CT4B,uB0CUxB,OAAOlV,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,EAAZ,CAAmB4U,mBAAmB,IAC1C,IzDX4B,uByDYxB,OAAOlV,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,EAAZ,CAAmBuJ,WAAW,IAClC,IzDZ8B,yByDa9B,IzDZ2B,sByDavB,OAAO7J,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,EAAZ,CAAmBuJ,WAAW,IAClC,QACI,OAAO7J,OAAA6a,GAAA,EAAA7a,CAAA,GAAIM,KCpBjBsa,GAA6B,CAC/BnJ,YAAY,GAgBD+B,GAbC,WAAyE,IAAxElT,EAAwEiF,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,GAAAA,UAAA,GAAlDqV,GACnC,QADqFrV,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,GACtE3H,MACX,KAAK6P,GACD,OAAOtS,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,EAAZ,CAAmBmR,YAAY,IACnC,KAAKc,GACL,KAAKC,GACL,KAAKC,GACD,OAAOzS,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,EAAZ,CAAmBmR,YAAY,IACnC,QACI,OAAOzR,OAAA6a,GAAA,EAAA7a,CAAA,GAAIM,KCZjBsa,GAAgC,CAClCpQ,WAAY,IAgBDA,GAXI,WAA6E,IAA5ElK,EAA4EiF,UAAAuK,OAAA,QAAA1F,IAAA7E,UAAA,GAAAA,UAAA,GAAnDqV,GAAc3H,EAAqC1N,UAAAuK,OAAA,EAAAvK,UAAA,QAAA6E,EAC5F,OAAQ6I,EAAOxQ,MACX,I3DL8B,yB2DM1B,MAAO,CACH+H,WAAYyI,EAAOzL,QAAQU,SAASsC,YAE5C,QACI,OAAOxK,OAAA6a,GAAA,EAAA7a,CAAA,GAAKM,KCXlBgT,GAAUyH,eAEVC,GCLkB,SAACC,EAAkB3H,GACvC,OAAO4H,uBACHD,EACAE,+BACIC,mBAAe9V,WAAf,GACI+V,KACAC,aAAiBhI,IAFrB1N,OAAA5F,OAAAub,GAAA,EAAAvb,CAGOua,QDFLiB,EhCDElI,GgCAuBA,GhCAFmI,2BAAgB,CACjDC,OAAQC,aAAcrI,IACtBxJ,cACA/B,aACAwL,eACAhU,SACAqK,QACA4J,WACAhJ,iBgCPiC8I,IAIrCsI,IAASpD,OACLhZ,EAAAC,EAAAC,cAACmc,EAAA,EAAD,CAAUb,MAAOA,IACbxb,EAAAC,EAAAC,cAACoc,GAAA,EAAD,CAAiBxI,QAASA,IACtB9T,EAAAC,EAAAC,cAACqc,GAAD,QAGRC,SAASC,eAAe","file":"static/js/main.f1ed377e.chunk.js","sourcesContent":["import React from 'react';\nimport {FormHelperText} from \"@material-ui/core\";\n\ninterface ErrorMessageComponentProps {\n    id: string,\n    error: string,\n}\n\nconst ErrorMessageComponent: React.FC<ErrorMessageComponentProps> = ({ id, error}) => {\n    return (\n        <FormHelperText\n            key={error}\n            id={id}\n            error={true}\n        >\n            {error}\n        </FormHelperText>\n    );\n};\n\nexport { ErrorMessageComponent }","import React from 'react';\n\nimport {Avatar, Typography, TextField, Button, Grid, createStyles, WithStyles} from '@material-ui/core';\nimport { Theme } from '@material-ui/core/styles/createMuiTheme';\nimport { LockOutlined } from '@material-ui/icons';\nimport { Link as RouteLink } from 'react-router-dom';\nimport {StyleRules} from \"@material-ui/core/styles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {ErrorMessageComponent} from \"./ErrorMessageComponent\";\nimport {routes} from \"../routes/Route\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    paper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\ninterface SignInFormComponentProps extends WithStyles<typeof styles> {\n    onSubmit: (accountName: string, password: string) => void\n    error?: string,\n}\n\ninterface SignInFormComponentState {\n    accountName: string,\n    password: string,\n}\n\nclass SignInPageFormComponent extends React.Component<SignInFormComponentProps, SignInFormComponentState> {\n    constructor(props: SignInFormComponentProps) {\n        super(props);\n\n        this.state = {\n            accountName: '',\n            password: '',\n        };\n\n        this._onSubmit = this._onSubmit.bind(this);\n        this._onChangeAccountName = this._onChangeAccountName.bind(this);\n        this._onChangePassword = this._onChangePassword.bind(this);\n    }\n\n    _onSubmit(e: React.MouseEvent) {\n        e.preventDefault();\n        const { accountName, password } = this.state;\n        this.props.onSubmit(accountName, password);\n    }\n\n    _onChangeAccountName(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            accountName: e.target.value\n        })\n    }\n\n    _onChangePassword(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            password: e.target.value\n        })\n    }\n\n    render() {\n        const { accountName, password } = this.state;\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlined/>\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    ログインページ\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"accountName\"\n                        label=\"ユーザ名\"\n                        name=\"accountName\"\n                        autoFocus\n                        value={accountName}\n                        onChange={this._onChangeAccountName}\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"password\"\n                        label=\"パスワード\"\n                        name=\"password\"\n                        type=\"password\"\n                        autoComplete=\"current-password\"\n                        value={password}\n                        onChange={this._onChangePassword}\n                    />\n                    {\n                        this.props.error &&\n                        <ErrorMessageComponent id=\"signInButton\" error={this.props.error}/>\n                    }\n                    <Button\n                        id=\"signInButton\"\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={this._onSubmit}\n                        className={classes.submit}\n                    >\n                        ログイン\n                    </Button>\n                    <Grid container>\n                        <Grid item xs>\n                            <RouteLink to={routes.register.path}>新規登録はこちら</RouteLink>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(SignInPageFormComponent);\n","/**\n * Config\n */\nexport default {\n    apiUrl: 'http://localhost:8000', // TODO fix\n    paymentUrl: 'http://localhost:5555',\n}","export class ResponseError extends Error {\n    private readonly res: Response | undefined;\n\n    constructor(message: string, response?: Response) {\n        super(message);\n        this.res = response;\n    }\n\n    getResponse(): Response | undefined {\n        return this.res;\n    }\n}","import {ResponseError} from \"./ResponseError\";\n\nexport class AppResponseError extends ResponseError {}","import config from '../config';\nimport {SettingsRes} from \"../types/appApiTypes\";\nimport {AppResponseError} from \"../errors/AppResponseError\";\n\n/**\n * HTTP client for main app\n */\nclass AppClient {\n    private baseUrl: string = config.apiUrl;\n    private defaultHeaders: HeadersInit = {};\n\n    async get(path: string): Promise<Response> {\n        return await fetch(`${this.baseUrl}${path}`, {\n            method: 'GET',\n            headers: this.defaultHeaders,\n        });\n    }\n\n    async post(path: string, params: any = {}): Promise<Response> {\n        let requestOption: RequestInit = {\n            method: 'POST',\n            mode: 'same-origin',\n            headers: Object.assign({}, this.defaultHeaders, {\n                'Content-Type': 'application/json',\n            }),\n            credentials: 'same-origin',\n        };\n\n        params.csrf_token = await this.getCsrfToken();\n\n        if (params) {\n            requestOption.body = JSON.stringify(params);\n        }\n\n        return await fetch(`${this.baseUrl}${path}`, requestOption);\n    }\n\n    private async getCsrfToken(): Promise<string> {\n        const res: Response = await fetch('/settings', {\n            method: 'GET',\n            headers: this.defaultHeaders,\n        });\n\n        if (!res.ok) {\n            throw new AppResponseError('CSRF tokenの取得に失敗しました', res);\n        }\n\n        const body: SettingsRes = await res.json();\n\n        return body.csrf_token;\n    }\n}\n\nexport default new AppClient();","import AppClient from '../httpClients/appClient';\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport { FormErrorState } from \"../reducers/formErrorReducer\";\nimport { push } from 'connected-react-router';\nimport {AnyAction} from \"redux\";\nimport {routes} from \"../routes/Route\";\nimport {AppState} from \"../index\";\nimport {LoginRes} from \"../types/appApiTypes\";\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\n\ntype ThunkResult<R> = ThunkAction<R, AppState, undefined, AnyAction>\n\nexport function postLoginAction(accountName: string, password: string): ThunkResult<void> {\n    return (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n        AppClient.post('/login', {\n            account_name: accountName,\n            password: password,\n        })\n            .then((response: Response) => {\n                if (response.status !== 200) {\n                    throw new Error('HTTP status not 200');\n                }\n\n                return response.json();\n            })\n            .then((body: LoginRes) => {\n                dispatch(loginSuccessAction({\n                    userId: body.id,\n                    accountName: body.account_name,\n                    address: body.address,\n                }));\n                dispatch(push(routes.top.path))\n            })\n            .catch((err: Error) => {\n                dispatch(loginFailAction({\n                    error: err.message,\n                }))\n            })\n    };\n}\n\nexport interface LoginSuccessAction {\n    type: typeof LOGIN_SUCCESS,\n    payload: {\n        userId: number,\n        accountName: string,\n        address?: string,\n    },\n}\n\nexport function loginSuccessAction(newAuthState: { userId: number, accountName: string, address?: string }): LoginSuccessAction {\n    return {\n        type: LOGIN_SUCCESS,\n        payload: newAuthState,\n    };\n}\n\nexport interface LoginFailAction {\n    type: typeof LOGIN_FAIL,\n    payload: FormErrorState,\n}\n\nexport function loginFailAction(newErros: FormErrorState): LoginFailAction {\n    return {\n        type: LOGIN_FAIL,\n        payload: newErros,\n    };\n}\n","import SignInPageFormComponent from \"../components/SignInFormComponent\";\nimport { connect } from 'react-redux';\nimport { postLoginAction } from \"../actions/authenticationActions\";\nimport {AppState} from \"../index\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {AnyAction} from \"redux\";\n\nconst mapStateToProps = (state: AppState) => ({\n    error: state.formError.error,\n});\nconst mapDispatchToProps = (dispatch: ThunkDispatch<AppState, undefined, AnyAction>) => ({\n    onSubmit: (accountName: string, password: string) => {\n        dispatch(postLoginAction(accountName, password));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInPageFormComponent)","import AppClient from '../httpClients/appClient';\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport {Action, AnyAction} from \"redux\";\nimport {SettingsRes} from \"../types/appApiTypes\";\nimport {AppResponseError} from \"../errors/AppResponseError\";\nimport {AppState} from \"../index\";\nimport {Settings} from \"../dataObjects/settings\";\nimport {UserData} from \"../dataObjects/user\";\nimport {CategorySimple} from \"../dataObjects/category\";\n\nexport const FETCH_SETTINGS_START = 'FETCH_SETTINGS_START';\nexport const FETCH_SETTINGS_SUCCESS = 'FETCH_SETTINGS_SUCCESS';\nexport const FETCH_SETTINGS_FAIL = 'FETCH_SETTINGS_FAIL';\n\ntype ThunkResult<R> = ThunkAction<R, AppState, undefined, AnyAction>\n\nexport function fetchSettings(): ThunkResult<void> {\n    return (dispatch: ThunkDispatch<AppState, any, AnyAction>) => {\n        Promise.resolve(() => {\n            dispatch(fetchSettingStartAction());\n        })\n            .then(() => AppClient.get(`/settings`))\n            .then((response: Response) => {\n                if (!response.ok) {\n                    throw new AppResponseError('Request for getting settings data was failed', response);\n                }\n\n                return response.json();\n            })\n            .then((body: SettingsRes) => {\n                let user: UserData | undefined = undefined;\n\n                if (body.user) {\n                    user = {\n                        id: body.user.id,\n                        accountName: body.user.account_name,\n                        address: body.user.address,\n                        numSellItems: body.user.num_sell_items,\n                    }\n                }\n\n                dispatch(fetchSettingsSuccessAction({\n                    csrfToken: body.csrf_token,\n                    categories: body.categories.map<CategorySimple>((category) => ({\n                        id: category.id,\n                        parentId: category.parent_id,\n                        categoryName: category.category_name,\n                    })),\n                    user: user,\n                }));\n            })\n            .catch((err: Error) => {\n                dispatch(fetchItemPageFailAction());\n            });\n    };\n}\n\nexport interface FetchSettingsStartAction extends Action<typeof FETCH_SETTINGS_START> {}\n\nconst fetchSettingStartAction = (): FetchSettingsStartAction => ({\n    type: \"FETCH_SETTINGS_START\",\n});\n\nexport interface FetchSettingsSuccessAction extends Action<typeof FETCH_SETTINGS_SUCCESS> {\n    payload: {\n        settings: Settings,\n    },\n}\n\nconst fetchSettingsSuccessAction = (settings: Settings): FetchSettingsSuccessAction => ({\n    type: \"FETCH_SETTINGS_SUCCESS\",\n    payload: {\n        settings,\n    },\n});\n\nexport interface FetchSettingsFailAction extends Action<typeof FETCH_SETTINGS_FAIL> {}\n\nconst fetchItemPageFailAction = (): FetchSettingsFailAction => ({\n    type: \"FETCH_SETTINGS_FAIL\",\n});\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles(theme => ({\n    progress: {\n        top: 0,\n        bottom: 0,\n        right: 0,\n        left: 0,\n        margin: 'auto',\n        position: 'absolute',\n    },\n}));\n\nconst LoadingComponent: React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <React.Fragment>\n            <CircularProgress\n                size={80}\n                className={classes.progress}\n            />\n        </React.Fragment>\n    );\n};\n\nexport default LoadingComponent;\n","import React, {PropsWithChildren} from 'react';\n\nimport { Container, MuiThemeProvider, createMuiTheme } from '@material-ui/core';\nimport LoadingComponent from \"./LoadingComponent\";\n\nconst themeInstance = createMuiTheme({\n    palette: {\n        background: {\n            default: 'white'\n        },\n    },\n});\n\nexport type Props = PropsWithChildren<{\n    load: () => void;\n    alreadyLoaded: boolean,\n    loading: boolean,\n}>\n\nclass BasePageComponent extends React.Component<Props> {\n    constructor(props: Props) {\n        super(props);\n\n        if (!this.props.alreadyLoaded) {\n            this.props.load();\n        }\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={themeInstance}>\n                <Container maxWidth=\"lg\">\n                    {\n                        this.props.loading ? (\n                            <LoadingComponent />\n                        ) : (\n                            this.props.children || null\n                        )\n                    }\n                </Container>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport { BasePageComponent }","import {connect} from \"react-redux\";\nimport {AppState} from \"../index\";\nimport {fetchSettings} from \"../actions/settingsAction\";\nimport {BasePageComponent} from \"../components/BasePageComponent\";\n\nconst mapStateToProps = (state: AppState) => ({\n    loading: state.page.isLoading,\n    alreadyLoaded: state.authStatus.checked,\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n    load: () => {\n        dispatch(fetchSettings());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BasePageComponent);\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core';\nimport SignInFormContainer from \"../containers/SignInFormContainer\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(1),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n}));\n\ntype Props = {};\n\nconst SignInPage: React.FC<Props> = () => {\n    const classes = useStyles();\n\n    return (\n        <BasePageContainer>\n            <div className={classes.paper}>\n                <SignInFormContainer />\n            </div>\n        </BasePageContainer>\n    );\n};\n\nexport default SignInPage;","import React from 'react';\nimport {Avatar, createStyles, Theme, Typography, WithStyles} from \"@material-ui/core\";\nimport { LockOutlined } from \"@material-ui/icons\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Link as RouteLink } from 'react-router-dom';\nimport {StyleRules} from \"@material-ui/core/styles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {RegisterReq} from \"../types/appApiTypes\";\nimport {ErrorMessageComponent} from \"./ErrorMessageComponent\";\nimport {routes} from \"../routes/Route\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    paper: {\n        marginTop: theme.spacing(1),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\ninterface SignUpFormComponentProps extends WithStyles<typeof styles> {\n    register: (params: RegisterReq) => void\n    error?: string,\n}\n\ninterface SignUpFormComponentState {\n    accountName: string,\n    address: string,\n    password: string,\n}\n\nclass SignUpFormComponent extends React.Component<SignUpFormComponentProps, SignUpFormComponentState> {\n    constructor(props: SignUpFormComponentProps) {\n        super(props);\n\n        this.state = {\n            accountName: '',\n            address: '',\n            password: '',\n        };\n\n        this._onSubmit = this._onSubmit.bind(this);\n        this._onChangeAccountName = this._onChangeAccountName.bind(this);\n        this._onChangeAddress = this._onChangeAddress.bind(this);\n        this._onChangePassword = this._onChangePassword.bind(this);\n    }\n\n    _onSubmit(e: React.MouseEvent) {\n        e.preventDefault();\n        this.props.register({\n            account_name: this.state.accountName,\n            address: this.state.address,\n            password: this.state.password,\n        });\n    }\n\n    _onChangeAccountName(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            accountName: e.target.value\n        })\n    }\n\n    _onChangeAddress(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            address: e.target.value\n        })\n    }\n\n    _onChangePassword(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            password: e.target.value\n        })\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { accountName, address, password } = this.state;\n\n        return (\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlined/>\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    新規登録\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"name\"\n                        label=\"ユーザ名\"\n                        name=\"name\"\n                        value={accountName}\n                        onChange={this._onChangeAccountName}\n                        autoFocus\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"address\"\n                        label=\"住所\"\n                        name=\"address\"\n                        value={address}\n                        onChange={this._onChangeAddress}\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"password\"\n                        label=\"パスワード\"\n                        name=\"password\"\n                        type=\"password\"\n                        value={password}\n                        onChange={this._onChangePassword}\n                    />\n                    {\n                        this.props.error &&\n                        <ErrorMessageComponent id=\"signUpButton\" error={this.props.error}/>\n                    }\n                    <Button\n                        id=\"signUpButton\"\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={this._onSubmit}\n                    >\n                        新規登録\n                    </Button>\n                    <Grid container>\n                        <Grid item xs>\n                            <RouteLink to={routes.login.path}>すでにアカウントをお持ちの方はこちら</RouteLink>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(SignUpFormComponent);\n","import { AuthStatusState } from \"../reducers/authStatusReducer\";\nimport AppClient from '../httpClients/appClient';\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport { FormErrorState } from \"../reducers/formErrorReducer\";\nimport { push } from 'connected-react-router';\nimport {AnyAction} from \"redux\";\nimport {RegisterReq, RegisterRes} from \"../types/appApiTypes\";\nimport {routes} from \"../routes/Route\";\n\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\n\nexport type State = void | AuthStatusState;\ntype ThunkResult<R> = ThunkAction<R, State, undefined, AnyAction>\n\nexport function postRegisterAction(payload: RegisterReq): ThunkResult<void> {\n    return (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n        AppClient.post('/register', payload)\n            .then((response: Response) => {\n                if (response.status !== 200) {\n                    throw new Error('HTTP status not 200');\n                }\n\n                return response.json();\n            })\n            .then((body: RegisterRes) => {\n                dispatch(registerSuccessAction({\n                    userId: body.id,\n                    accountName: body.account_name,\n                    address: body.address,\n                }));\n                dispatch(push(routes.top.path))\n            })\n            .catch((err: Error) => {\n                dispatch(registerFailAction({\n                    error: err.message,\n                }))\n            })\n    };\n}\n\nexport interface RegisterSuccessAction {\n    type: typeof REGISTER_SUCCESS,\n    payload: {\n        userId: number,\n        accountName: string,\n        address: string,\n    },\n}\n\nexport function registerSuccessAction(newAuthState: { userId: number, accountName: string, address: string }): RegisterSuccessAction {\n    return {\n        type: REGISTER_SUCCESS,\n        payload: newAuthState,\n    };\n}\n\nexport interface RegisterFailAction {\n    type: typeof REGISTER_FAIL,\n    payload: FormErrorState,\n}\n\nexport function registerFailAction(newErros: FormErrorState): RegisterFailAction {\n    return {\n        type: REGISTER_FAIL,\n        payload: newErros,\n    };\n}\n","import SignUpPageFormComponent from \"../components/SignUpFormComponent\";\nimport { connect } from 'react-redux';\nimport {postRegisterAction, State} from \"../actions/registerAction\";\nimport {RegisterReq} from \"../types/appApiTypes\";\nimport {AppState} from \"../index\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {AnyAction} from \"redux\";\n\nconst mapStateToProps = (state: AppState) => ({\n    error: state.formError.error,\n});\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => ({\n    register: (params: RegisterReq) => {\n        dispatch(postRegisterAction(params));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpPageFormComponent)","import React from 'react';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport SignUpFormContainer from \"../containers/SignUpFormContainer\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(1),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n}));\n\nconst SignUpPage: React.FC = () => {\n    const classes = useStyles();\n\n    return (\n        <BasePageContainer>\n            <div className={classes.paper}>\n                <SignUpFormContainer />\n            </div>\n        </BasePageContainer>\n    );\n};\n\nexport default SignUpPage;","import React from 'react';\nimport Paper from \"@material-ui/core/Paper/Paper\";\nimport Avatar from \"@material-ui/core/Avatar/Avatar\";\nimport { Camera } from \"@material-ui/icons\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport { Theme } from \"@material-ui/core/styles/createMuiTheme\";\nimport withStyles, { WithStyles, StyleRules } from \"@material-ui/core/styles/withStyles\";\nimport createStyles from \"@material-ui/core/styles/createStyles\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport Button from \"@material-ui/core/Button/Button\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    upload: {\n        display: 'none',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n});\n\ninterface ItemImageUploadComponentProps extends WithStyles<typeof styles> {\n}\n\ninterface ItemImageUploadComponentState {\n    file?: File,\n    imagePreviewUrl: string,\n}\n\nclass ItemImageUploadComponent extends React.Component<ItemImageUploadComponentProps, ItemImageUploadComponentState> {\n    constructor(props: ItemImageUploadComponentProps) {\n        super(props);\n\n        this.state = {\n            imagePreviewUrl: ''\n        };\n        this._handleImageChange = this._handleImageChange.bind(this);\n    }\n\n    _handleImageChange(e: React.ChangeEvent<HTMLInputElement>) {\n        e.preventDefault();\n\n        if (e.target.files === null) {\n            return;\n        }\n\n        const reader = new FileReader();\n        const file = e.target.files[0];\n\n        reader.onloadend = () => {\n            if (typeof reader.result !== 'string') {\n                throw new Error();\n            }\n\n            this.setState({\n                file: file,\n                imagePreviewUrl: reader.result\n            });\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { imagePreviewUrl } = this.state;\n        let imagePreview = null;\n        console.log(imagePreviewUrl);\n\n        if (imagePreviewUrl) {\n            imagePreview = (<img alt=\"プレビュー\" src={imagePreviewUrl} />);\n        } else {\n            imagePreview = (\n                <Paper>\n                    <Avatar className={classes.avatar}>\n                        <Camera />\n                    </Avatar>\n                    <Typography>商品画像</Typography>\n                </Paper>\n            )\n        }\n\n        return (\n            <Grid\n                container\n                direction=\"row\"\n                justify=\"space-between\"\n                alignItems=\"center\"\n            >\n                <Grid item xs={8}>\n                    {imagePreview}\n                </Grid>\n                <Grid item xs={4}>\n                    <input\n                        accept=\"image/*\"\n                        className={classes.upload}\n                        id=\"outlined-button-file\"\n                        type=\"file\"\n                        onChange={this._handleImageChange}\n                    />\n                    <label htmlFor=\"outlined-button-file\">\n                        <Button variant=\"outlined\" component=\"span\" className={classes.button}>\n                            Upload\n                        </Button>\n                    </label>\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nexport default withStyles(styles)(ItemImageUploadComponent);\n","import React, {ReactNode} from 'react';\n\nimport {Typography, TextField, Button, createStyles, Theme, WithStyles} from '@material-ui/core';\nimport ItemImageUploadComponent from \"../components/ItemImageUploadComponent\";\nimport {StyleRules} from \"@material-ui/core/styles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport validator from 'validator';\nimport {ErrorMessageComponent} from \"./ErrorMessageComponent\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    form: {\n        width: '80%',\n        marginTop: theme.spacing(1),\n    },\n    selectForm: {\n        minWidth: '200px',\n        margin: theme.spacing(1, 0, 2),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\ninterface SellFormComponentProps extends WithStyles<typeof styles> {\n    sellItem: (name: string, description: string, price: number, categoryId: number) => void\n    error?: string,\n    categories: {\n        id: number,\n        categoryName: string,\n    }[],\n}\n\ninterface SellFormComponentState {\n    name: string,\n    description: string,\n    price: number,\n    selectedCategoryId: number,\n    categoryError?: string,\n}\n\nclass SellFormComponent extends React.Component<SellFormComponentProps, SellFormComponentState> {\n    constructor(props: SellFormComponentProps) {\n        super(props);\n\n        this.state = {\n            name: '',\n            description: '',\n            price: 0,\n            selectedCategoryId: 0,\n        };\n\n        this._onSubmit = this._onSubmit.bind(this);\n        this._onChangeName = this._onChangeName.bind(this);\n        this._onChangeDescription = this._onChangeDescription.bind(this);\n        this._onChangeCategory = this._onChangeCategory.bind(this);\n        this._onChangePrice = this._onChangePrice.bind(this);\n    }\n\n    _onSubmit(e: React.MouseEvent) {\n        e.preventDefault();\n        const { name, description, price, selectedCategoryId } = this.state;\n\n        if (!selectedCategoryId) {\n            this.setState({\n                categoryError: 'カテゴリを選択してください',\n            });\n            return;\n        }\n\n        this.props.sellItem(name, description, price, selectedCategoryId);\n    }\n\n    _onChangeName(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            name: e.target.value\n        })\n    }\n\n    _onChangeDescription(e: React.ChangeEvent<HTMLInputElement>) {\n        this.setState({\n            description: e.target.value\n        })\n    }\n\n    _onChangeCategory(e: React.ChangeEvent<any>, child: ReactNode) {\n        this.setState({\n            selectedCategoryId: Number(e.target.value),\n        })\n    }\n\n    _onChangePrice(e: React.ChangeEvent<HTMLInputElement>) {\n        const input = e.target.value;\n\n        // Only allow number\n        if (!validator.isNumeric(input, { no_symbols: true })) {\n            e.preventDefault();\n            return;\n        }\n\n        this.setState({\n            price: Number(input),\n        })\n    }\n\n    render() {\n        const { classes, categories } = this.props;\n        const { name, description, price, selectedCategoryId, categoryError } = this.state;\n\n        return (\n            <React.Fragment>\n                <Typography component=\"h1\" variant=\"h5\">\n                    出品ページ\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <ItemImageUploadComponent/>\n\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"name\"\n                        label=\"商品名\"\n                        name=\"name\"\n                        value={name}\n                        onChange={this._onChangeName}\n                        autoFocus\n                    />\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"description\"\n                        label=\"商品説明\"\n                        name=\"description\"\n                        value={description}\n                        onChange={this._onChangeDescription}\n                        multiline\n                        rows={5}\n                    />\n\n                    <InputLabel htmlFor=\"choose-category\">カテゴリ</InputLabel>\n                    <Select\n                        className={classes.selectForm}\n                        value={selectedCategoryId}\n                        onChange={this._onChangeCategory}\n                        inputProps={{\n                            name: 'category',\n                            id: 'choose-category',\n                        }}\n                    >\n                        <MenuItem value={0}>\n                            <em>-</em>\n                        </MenuItem>\n                        {\n                            categories.map((category) => (\n                                <MenuItem value={category.id}>{category.categoryName}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                    {\n                        categoryError &&\n                        <ErrorMessageComponent id=\"choose-category\" error={categoryError}/>\n                    }\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"price\"\n                        label=\"値段\"\n                        name=\"price\"\n                        value={price}\n                        onChange={this._onChangePrice}\n                    />\n                    {\n                        this.props.error &&\n                        <ErrorMessageComponent id=\"sellButton\" error={this.props.error}/>\n                    }\n                    <Button\n                        id=\"sellButton\"\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={this._onSubmit}\n                    >\n                        出品する\n                    </Button>\n                </form>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(SellFormComponent)\n","import AppClient from '../httpClients/appClient';\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport { FormErrorState } from \"../reducers/formErrorReducer\";\nimport { push } from 'connected-react-router';\nimport {AnyAction} from \"redux\";\nimport {SellReq, SellRes} from \"../types/appApiTypes\";\nimport {routes} from \"../routes/Route\";\n\nexport const SELLING_ITEM_SUCCESS = 'SELLING_ITEM_SUCCESS';\nexport const SELLING_ITEM_FAIL = 'SELLING_ITEM_FAIL';\n\ntype State = void;\ntype ThunkResult<R> = ThunkAction<R, State, undefined, AnyAction>\n\nexport function listItemAction(name: string, description: string, price: number, categoryId: number): ThunkResult<void> {\n    return (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n        const payload: SellReq = {\n            name, description, price, category_id: categoryId,\n        };\n        AppClient.post('/sell', payload)\n            .then((response: Response) => {\n                if (!response.ok) {\n                    throw new Error('HTTP status not 200');\n                }\n                return response.json();\n            })\n            .then((body: SellRes) => {\n                dispatch(sellingSuccessAction(body.id));\n                dispatch(push(routes.top.path)); // TODO\n            })\n            .catch((err: Error) => {\n                dispatch(sellingFailAction({\n                    error: err.message,\n                }))\n            })\n    };\n}\n\nexport interface SellingSuccessAction {\n    type: typeof SELLING_ITEM_SUCCESS,\n    payload: {\n        itemId: number,\n    },\n}\n\nexport function sellingSuccessAction(itemId: number): SellingSuccessAction {\n    return {\n        type: SELLING_ITEM_SUCCESS,\n        payload: { itemId },\n    };\n}\n\nexport interface SellingFailAction {\n    type: typeof SELLING_ITEM_FAIL,\n    payload: FormErrorState,\n}\n\nexport function sellingFailAction(newErrors: FormErrorState): SellingFailAction {\n    return {\n        type: SELLING_ITEM_FAIL,\n        payload: newErrors,\n    };\n}\n","import {connect} from \"react-redux\";\nimport SellFormComponent from \"../components/SellFormComponent\";\nimport {listItemAction} from \"../actions/sellingItemAction\";\nimport {AppState} from \"../index\";\nimport {AnyAction} from \"redux\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {CategorySimple} from \"../dataObjects/category\";\n\nconst mapStateToProps = (state: AppState) => {\n    // Note: Parent category's parent_id is 0\n    const categories = state.categories.categories.filter((category: CategorySimple) => category.parentId !== 0)\n\n    return {\n        error: state.formError.error,\n        categories,\n    };\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<AppState, undefined, AnyAction>) => ({\n    sellItem: (name: string, description: string, price: number, categoryId: number) => {\n        dispatch(listItemAction(name, description, price, categoryId));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SellFormComponent);\n","import {Action} from \"redux\";\n\nexport const NOT_FOUND_ERROR = 'NOT_FOUND_ERROR';\nexport const INTERNAL_SERVER_ERROR = 'INTERNAL_SERVER_ERROR';\n\nexport interface NotFoundErrorAction extends Action<typeof NOT_FOUND_ERROR>{}\n\nexport function notFoundError(): NotFoundErrorAction {\n    return { type: NOT_FOUND_ERROR };\n}\n\nexport interface InternalServerErrorAction extends Action<typeof INTERNAL_SERVER_ERROR>{}\n\nexport function internalServerError(): InternalServerErrorAction {\n    return { type: INTERNAL_SERVER_ERROR };\n}\n","// will be handled as HTTP 404 NotFound\nexport class NotFoundError extends Error {}","import AppClient from '../httpClients/appClient';\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport {Action, AnyAction} from \"redux\";\nimport {GetItemRes} from \"../types/appApiTypes\";\nimport {AppResponseError} from \"../errors/AppResponseError\";\nimport {ItemData} from \"../dataObjects/item\";\nimport {NotFoundError} from \"../errors/NotFoundError\";\n\nexport const FETCH_ITEM_PAGE_START = 'FETCH_ITEM_PAGE_START';\nexport const FETCH_ITEM_PAGE_SUCCESS = 'FETCH_ITEM_PAGE_SUCCESS';\nexport const FETCH_ITEM_PAGE_FAIL = 'FETCH_ITEM_PAGE_FAIL';\n\ntype ThunkResult<R> = ThunkAction<R, void, undefined, AnyAction>\n\nexport function fetchItemPageAction(itemId: string): ThunkResult<void> {\n    return (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n        Promise.resolve(() => {\n            dispatch(fetchItemPageStartAction());\n        })\n            .then(() => AppClient.get(`/items/${itemId}.json`))\n            .then((response: Response) => {\n                if (!response.ok) {\n                    if (response.status === 404) {\n                        throw new NotFoundError('Item not found');\n                    }\n\n                    throw new AppResponseError('Request for getting item data was failed', response);\n                }\n\n                return response.json();\n            })\n            .then((body: GetItemRes) => {\n                dispatch(fetchItemPageSuccessAction({\n                    id: body.id,\n                    status: body.status,\n                    sellerId: body.seller_id,\n                    seller: {\n                        id: body.seller.id,\n                        accountName: body.seller.account_name,\n                        numSellItems: body.seller.num_sell_items,\n                    },\n                    buyerId: body.buyer_id,\n                    buyer: body.buyer,\n                    name: body.name,\n                    price: body.price,\n                    thumbnailUrl: 'https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png', // TODO\n                    description: body.description,\n                    category: {\n                        id: body.category.id,\n                        parentId: body.category.parent_id,\n                        categoryName: body.category.category_name,\n                        parentCategoryName: body.category.parent_category_name,\n                    },\n                    createdAt: body.created_at,\n                }));\n            })\n            .catch((err: Error) => {\n                dispatch(fetchItemPageFailAction());\n            });\n    };\n}\n\nexport interface FetchItemPageStartAction extends Action<typeof FETCH_ITEM_PAGE_START> {}\n\nconst fetchItemPageStartAction = (): FetchItemPageStartAction => {\n    return {\n        type: FETCH_ITEM_PAGE_START,\n    };\n};\n\nexport interface FetchItemPageSuccessAction extends Action<typeof FETCH_ITEM_PAGE_SUCCESS > {\n    payload: {\n        item: ItemData,\n    },\n}\n\nconst fetchItemPageSuccessAction = (item: ItemData): FetchItemPageSuccessAction => {\n    return {\n        type: FETCH_ITEM_PAGE_SUCCESS ,\n        payload: {\n            item\n        },\n    };\n};\n\nexport interface FetchItemPageFailAction extends Action<typeof FETCH_ITEM_PAGE_FAIL > {}\n\nconst fetchItemPageFailAction = (): FetchItemPageFailAction => {\n    return {\n        type: FETCH_ITEM_PAGE_FAIL ,\n    };\n};\n\n","import {\n    INTERNAL_SERVER_ERROR,\n    InternalServerErrorAction,\n    NOT_FOUND_ERROR,\n    NotFoundErrorAction\n} from \"../actions/errorAction\";\nimport {FETCH_ITEM_PAGE_FAIL, FetchItemPageFailAction} from \"../actions/fetchItemPageAction\";\nimport {FETCH_SETTINGS_FAIL, FetchSettingsFailAction} from \"../actions/settingsAction\";\n\nexport const NoError = 'NO_ERROR';\nexport const NotFoundError = 'NOT_FOUND';\nexport const InternalServerError = 'INTERNAL_SERVER_ERROR';\nexport type ErrorType = typeof NoError | typeof NotFoundError | typeof InternalServerError;\n\nexport interface ErrorState {\n    errorType: ErrorType,\n    errorCode?: number,\n}\n\nconst initialState: ErrorState = {\n    errorType: NoError,\n};\n\ntype errorActions = NotFoundErrorAction\n    | InternalServerErrorAction\n    | FetchItemPageFailAction\n    | FetchSettingsFailAction;\n\nconst error = (state: ErrorState = initialState, action: errorActions): ErrorState => {\n    switch (action.type) {\n        case NOT_FOUND_ERROR:\n            return { errorType: NotFoundError, errorCode: 404 };\n        case INTERNAL_SERVER_ERROR:\n        case FETCH_ITEM_PAGE_FAIL:\n        case FETCH_SETTINGS_FAIL:\n            return { errorType: InternalServerError, errorCode: 500 };\n        default:\n            return { errorType: NoError };\n    }\n};\n\nexport default error;","import React from 'react';\n\nconst NotFoundPage: React.FC = () => (\n    <div>404 Not Found</div>\n);\n\nexport default NotFoundPage;","import React from 'react';\n\nconst InternalServerErrorPage: React.FC = () => (\n    <div>Internal Server Error</div>\n);\n\nexport default InternalServerErrorPage;","import {ErrorType, InternalServerError, NotFoundError} from \"../reducers/errorReducer\";\nimport {branch, renderComponent, withProps, compose} from 'recompose';\nimport NotFoundPage from \"../pages/error/NotFoundPage\";\nimport InternalServerErrorPage from \"../pages/error/InternalServerErrorPage\";\n\nexport interface ErrorProps {\n    errorType: ErrorType,\n}\n\ntype BaseProps = ErrorProps;\n\nexport const PageComponentWithError = <Props extends ErrorProps>() =>\n    compose<Props, Props>(\n        withProps((props: Props) => ({\n            errorType: props.errorType,\n        })),\n        branch<BaseProps>(\n            (props: BaseProps) => props.errorType === NotFoundError,\n            renderComponent(NotFoundPage)\n        ),\n        branch<BaseProps>(\n            (props: BaseProps) => props.errorType === InternalServerError,\n            renderComponent(InternalServerErrorPage)\n        )\n    );\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core';\nimport SellFormContainer from \"../containers/SellFormContainer\";\nimport {ErrorProps, PageComponentWithError} from \"../hoc/withBaseComponent\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(1),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n}));\n\ntype Props = {} & ErrorProps;\n\nconst SellPage: React.FC<Props> = () => {\n    const classes = useStyles();\n\n    return (\n        <BasePageContainer>\n            <div className={classes.paper}>\n                <SellFormContainer />\n            </div>\n        </BasePageContainer>\n    );\n};\n\nexport default PageComponentWithError<Props>()(SellPage);\n","import React from 'react';\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst ItemEditPage: React.FC = () => (\n    <BasePageContainer>\n        <div>Item Edit Page</div>\n    </BasePageContainer>\n);\n\nexport default ItemEditPage;","import * as React from \"react\";\nimport {Button, createStyles, Theme, WithStyles} from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {StyleRules} from \"@material-ui/core/styles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    button: {\n        margin: theme.spacing(3, 0, 1),\n    },\n    buttonProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    },\n});\n\ninterface Props extends WithStyles<typeof styles> {\n    onClick: (e: React.MouseEvent) => void\n    buttonName: string\n    loading: boolean\n}\n\nclass LoadingButtonComponent extends React.Component<Props> {\n    constructor(props: Props) {\n        super(props);\n\n        this._onClick = this._onClick.bind(this);\n    }\n\n    _onClick(e: React.MouseEvent) {\n        e.preventDefault();\n\n        this.props.onClick(e);\n    }\n\n    render() {\n        const { loading, buttonName, classes } = this.props;\n\n        return (\n            <React.Fragment>\n                <Button\n                    className={classes.button}\n                    disabled={loading}\n                    onClick={this._onClick}\n                >\n                    {buttonName}\n                </Button>\n                {loading && <CircularProgress size={24} className={classes.buttonProgress}/>}\n            </React.Fragment>\n        );\n    }\n};\n\nexport default withStyles(styles)(LoadingButtonComponent);","import React from 'react';\nimport {ItemData} from \"../dataObjects/item\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport {BuyFormErrorState} from \"../reducers/formErrorReducer\";\nimport {ErrorMessageComponent} from './ErrorMessageComponent';\nimport {createStyles, StyleRules, Theme, WithStyles} from \"@material-ui/core/styles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport validator from 'validator';\nimport LoadingButton from \"./LoadingButtonComponent\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    itemImage: {\n        width: '100%',\n        maxWidth: '500px',\n        height: 'auto',\n        textAlign: 'center',\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(3,0, 1),\n    },\n});\n\ninterface ItemBuyFormProps extends WithStyles<typeof styles> {\n    item: ItemData,\n    onBuyAction: (itemId: number, cardNumber: string) => void,\n    loadingBuy: boolean,\n    errors: BuyFormErrorState,\n}\n\ninterface ItemBuyFormState {\n    cardNumber: string,\n}\n\nclass ItemBuyFormComponent extends React.Component<ItemBuyFormProps, ItemBuyFormState> {\n    constructor(props: ItemBuyFormProps) {\n        super(props);\n\n        this.state = {\n            cardNumber: '',\n        };\n\n        this._onChangeCardNumber = this._onChangeCardNumber.bind(this);\n        this._onClickBuyButton = this._onClickBuyButton.bind(this);\n    }\n\n    _onChangeCardNumber(e: React.ChangeEvent<HTMLInputElement>) {\n        const cardNumber = e.target.value;\n\n        if (cardNumber.length > 8) {\n            return;\n        }\n\n        if (!validator.isHexadecimal(cardNumber) && cardNumber !== '') {\n            return;\n        }\n\n        this.setState({\n            cardNumber: cardNumber.toUpperCase(),\n        });\n    }\n\n    _onClickBuyButton(e: React.MouseEvent) {\n        const { item: { id } } = this.props;\n        const { cardNumber } = this.state;\n        this.props.onBuyAction(id, cardNumber);\n    }\n\n    render() {\n        const { item, errors, classes, loadingBuy } = this.props;\n        const cardError = errors.cardError;\n        const appError = errors.buyError;\n\n        return (\n            <React.Fragment>\n                <img className={classes.itemImage} alt={item.name} src={item.thumbnailUrl}/>\n                <Typography variant=\"h4\">{item.name}</Typography>\n                <Typography variant=\"h5\">{`¥${item.price}`}</Typography>\n                <form className={classes.form} noValidate>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"cardNumber\"\n                        label=\"カード番号\"\n                        name=\"cardNumber\"\n                        helperText=\"16進数大文字で入力してください\"\n                        error={!!cardError}\n                        value={this.state.cardNumber}\n                        onChange={this._onChangeCardNumber}\n                        autoFocus\n                    />\n                    {\n                        cardError &&\n                        <ErrorMessageComponent id=\"cardNumber\" error={cardError} />\n                    }\n                    <LoadingButton\n                        onClick={this._onClickBuyButton}\n                        buttonName={'購入'}\n                        loading={loadingBuy}\n                    />\n                    {\n                        appError &&\n                        <ErrorMessageComponent id=\"buyButton\" error={appError}/>\n                    }\n                </form>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(ItemBuyFormComponent);\n","import config from '../config';\n\n/**\n * HTTP client for payment service\n */\nclass PaymentClient {\n    private baseUrl: string = config.paymentUrl;\n    private defaultHeaders: HeadersInit = {};\n\n    async get(path: string): Promise<Response> {\n        return await fetch(`${this.baseUrl}${path}`, {\n            method: 'GET',\n            headers: this.defaultHeaders,\n        });\n    }\n\n    async post(path: string, params?: Object): Promise<Response> {\n        let requestOption: RequestInit = {\n            method: 'POST',\n            mode: 'cors',\n            headers: Object.assign({}, this.defaultHeaders, {\n                'Content-Type': 'application/json',\n            }),\n            credentials: 'same-origin',\n        };\n\n        if (params) {\n            requestOption.body = JSON.stringify(params);\n        }\n\n\n        return await fetch(`${this.baseUrl}${path}`, requestOption);\n    }\n}\n\nexport default new PaymentClient();","import {ResponseError} from \"./ResponseError\";\n\nexport class PaymentResponseError extends ResponseError {}","import AppClient from '../httpClients/appClient';\nimport PaymentClient from '../httpClients/paymentClient';\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\nimport { FormErrorState } from \"../reducers/formErrorReducer\";\nimport { push } from 'connected-react-router';\nimport {Action, AnyAction} from \"redux\";\nimport {BuyReq} from \"../types/appApiTypes\";\nimport {routes} from \"../routes/Route\";\nimport {CardReq, CardRes} from \"../types/paymentApiTypes\";\nimport {PaymentResponseError} from \"../errors/PaymentResponseError\";\nimport {AppResponseError} from \"../errors/AppResponseError\";\nimport {ResponseError} from \"../errors/ResponseError\";\n\nexport const BUY_START = 'BUY_START';\nexport const BUY_SUCCESS = 'BUY_SUCCESS';\nexport const BUY_FAIL = 'BUY_FAIL';\nexport const USING_CARD_FAIL = 'USING_CARD_FAIL';\n\ntype State = void;\ntype ThunkResult<R> = ThunkAction<R, State, undefined, AnyAction>\n\nexport function buyItemAction(itemId: number, cardNumber: string): ThunkResult<void> {\n    return (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n        Promise.resolve(() => {\n            dispatch(buyStartAction());\n        })\n            .then(() => {\n                return PaymentClient.post('/card', {\n                    card_number: cardNumber,\n                    shop_id: '11', // TODO getting from /settings\n                } as CardReq);\n            })\n            .then((response: Response) => {\n                if (!response.ok) {\n                    throw new PaymentResponseError(\n                        'request to /card of payment service was failed', response\n                    );\n                }\n\n                return response.json();\n            })\n            .catch((err: Error) => {\n                // Wrapping to judge kinds of error\n                throw new PaymentResponseError(err.message);\n            })\n            .then((body: CardRes) => {\n                return AppClient.post('/buy', {\n                    item_id: itemId,\n                    token: body.token,\n                } as BuyReq);\n            })\n            .then((response: Response) => {\n                if (!response.ok) {\n                    throw new AppResponseError(\n                        'request to /buy of app was failed', response\n                    );\n                }\n\n                return response.json();\n            })\n            .then(() => {\n                dispatch(buySuccessAction());\n                dispatch(push(routes.buyComplete.path));\n            })\n            .catch((err: Error) => {\n                if (err instanceof ResponseError) {\n                    const res = err.getResponse();\n                    let action: Function;\n\n                    if (err instanceof PaymentResponseError) {\n                        action = usingCardFailAction;\n                    } else if (err instanceof AppResponseError) {\n                        action = buyFailAction;\n                    } else {\n                        action = buyFailAction;\n                    }\n\n                    if (res) {\n                        return res.json()\n                            .then((body: any) => {\n                                if (body && body.error) {\n                                    dispatch(action(body.error))\n                                    return;\n                                }\n\n                                dispatch(action(err.message));\n                            })\n                    }\n\n                    dispatch(action(err.message));\n                    return;\n                }\n\n                dispatch(buyFailAction(err.message));\n            });\n    };\n}\n\nexport interface BuyStartAction extends Action<typeof BUY_START> {}\n\nexport function buyStartAction(): BuyStartAction{\n    return {\n        type: BUY_START,\n    };\n}\n\nexport interface BuySuccessAction extends Action<typeof BUY_SUCCESS>{}\n\nexport function buySuccessAction(): BuySuccessAction {\n    return {\n        type: BUY_SUCCESS,\n    };\n}\n\nexport interface UsingCardFailAction extends Action<typeof USING_CARD_FAIL> {\n    payload: FormErrorState,\n}\n\nexport function usingCardFailAction(error: string): UsingCardFailAction{\n    return {\n        type: USING_CARD_FAIL,\n        payload: {\n            error: undefined,\n            buyFormError: {\n                cardError: error,\n            },\n        },\n    };\n}\nexport interface BuyFailAction extends Action<typeof BUY_FAIL>{\n    payload: FormErrorState,\n}\n\nexport function buyFailAction(error: string): BuyFailAction {\n    return {\n        type: BUY_FAIL,\n        payload: {\n            error: undefined,\n            buyFormError: {\n                buyError: error,\n            },\n        },\n    };\n}\n","import {connect} from \"react-redux\";\nimport ItemBuyFormComponent from \"../components/ItemBuyFormComponent\";\nimport {buyItemAction} from \"../actions/buyAction\";\n\nconst mapStateToProps = (state: any) => ({\n    item: state.viewingItem.item,\n    errors: state.formError.buyFormError,\n    loadingBuy: state.buyPage.loadingBuy,\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n    onBuyAction: (itemId: number, cardNumber: string) => {\n        dispatch(buyItemAction(itemId, cardNumber))\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemBuyFormComponent);\n","import { combineReducers } from 'redux';\nimport authStatus from './authStatusReducer';\nimport formError from './formErrorReducer';\nimport viewingItem from './viewingItemReducer';\nimport error from './errorReducer';\nimport page from './pageReducuer';\nimport buyPage from './buyPageReducer';\nimport categories from './categoriesReducer';\nimport { connectRouter } from 'connected-react-router';\nimport { History } from 'history';\n\nexport default (history: History) => combineReducers({\n    router: connectRouter(history),\n    authStatus,\n    formError,\n    viewingItem,\n    error,\n    page,\n    buyPage,\n    categories,\n});\n","import React from 'react';\nimport ItemBuyFormContainer from \"../containers/ItemBuyFormContainer\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst ItemBuyPage: React.FC = () => {\n    return (\n        <BasePageContainer>\n            <ItemBuyFormContainer />\n        </BasePageContainer>\n    );\n};\n\nexport default ItemBuyPage;","import React from 'react';\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst UserSettingPage: React.FC = () => (\n    <BasePageContainer>User setting Page</BasePageContainer>\n);\n\nexport default UserSettingPage;","import React from 'react';\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst BuyCompletePage: React.FC = () => (\n    <BasePageContainer>\n        <div>Item buying Page</div>\n    </BasePageContainer>\n);\n\nexport default BuyCompletePage;","import React from 'react';\nimport { ItemData } from \"../dataObjects/item\";\nimport {createStyles, Theme, Typography, WithStyles} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport {Link, Link as RouteLink, RouteComponentProps} from 'react-router-dom';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport {routes} from \"../routes/Route\";\nimport {StyleRules} from \"@material-ui/core/styles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {ErrorProps, PageComponentWithError} from \"../hoc/withBaseComponent\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\nimport LoadingComponent from \"../components/LoadingComponent\";\n\nconst styles = (theme: Theme): StyleRules => createStyles({\n    title: {\n        margin: theme.spacing(3),\n    },\n    itemImage: {\n        width: '100%',\n        maxWidth: '500px',\n        height: 'auto',\n    },\n    avatar: {\n        width: '50px',\n        height: '50px',\n    },\n    divider: {\n        margin: theme.spacing(1),\n    },\n    descSection: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(3),\n    },\n    link: {\n        textDecoration: 'none',\n    },\n    appBar: {\n        top: 'auto',\n        bottom: 0,\n    },\n    buyButton: {\n        margin: theme.spacing(1),\n    }\n});\n\ninterface ItemPageProps extends WithStyles<typeof styles> {\n    loading: boolean,\n    item: ItemData\n    load: (itemId: string) => void\n    onClickBuy: (itemId: number) => void\n}\n\ntype Props = ItemPageProps & RouteComponentProps<{ item_id: string }> & ErrorProps\n\nclass ItemPage extends React.Component<Props> {\n    constructor(props: Props) {\n        super(props);\n\n        this.props.load(this.props.match.params.item_id);\n        this._onClickBuyButton = this._onClickBuyButton.bind(this);\n    }\n\n    _onClickBuyButton(e: React.MouseEvent) {\n        e.preventDefault();\n        this.props.onClickBuy(this.props.item.id);\n    }\n\n    render() {\n        const { classes, item, loading } = this.props;\n\n        return (\n            <BasePageContainer>\n                {\n                    loading ? (\n                        <LoadingComponent/>\n                    ) : (\n                        <React.Fragment>\n                            Item Page\n                            <Typography className={classes.title} variant=\"h3\">{item.name}</Typography>\n                            <Grid container spacing={2}>\n                                <Grid item>\n                                    <img className={classes.itemImage} alt={item.name} src={item.thumbnailUrl}/>\n                                </Grid>\n                                <Grid item xs={12} sm container>\n                                    <Grid item xs container direction=\"column\" spacing={2}>\n                                        <Grid item xs>\n                                            <div className={classes.descSection}>\n                                                <Typography variant=\"h4\">商品説明</Typography>\n                                                <Divider className={classes.divider} variant=\"middle\"/>\n                                                <Typography variant=\"body1\">{item.description}</Typography>\n                                            </div>\n\n                                            <div className={classes.descSection}>\n                                                <Typography variant=\"h4\">カテゴリ</Typography>\n                                                <Divider className={classes.divider} variant=\"middle\"/>\n                                                <Typography variant=\"body1\">\n                                                    <Link to={routes.categoryTimeline.getPath(item.category.parentId)}>\n                                                        {item.category.parentCategoryName}\n                                                    </Link> > {item.category.categoryName}\n                                                </Typography>\n                                            </div>\n\n                                            <div className={classes.descSection}>\n                                                <Typography variant=\"h4\">出品者</Typography>\n                                                <Divider className={classes.divider} variant=\"middle\"/>\n                                                <Grid\n                                                    container\n                                                    direction=\"row\"\n                                                    justify=\"center\"\n                                                    alignItems=\"center\"\n                                                    wrap=\"nowrap\"\n                                                    spacing={2}\n                                                >\n                                                    <Grid item>\n                                                        <RouteLink className={classes.link}\n                                                                   to={routes.user.getPath(item.sellerId)}>\n                                                            <Avatar\n                                                                className={classes.avatar}>{item.seller.accountName.charAt(0)}</Avatar>\n                                                        </RouteLink>\n                                                    </Grid>\n                                                    <Grid item xs>\n                                                        <Typography variant=\"body1\">{item.seller.accountName}</Typography>\n                                                    </Grid>\n                                                </Grid>\n                                            </div>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                            <AppBar color=\"primary\" position=\"fixed\" className={classes.appBar}>\n                                <Grid\n                                    container\n                                    spacing={2}\n                                    direction=\"row\"\n                                    alignItems=\"center\"\n                                >\n                                    <Grid item>\n                                        <Typography variant=\"h5\">¥{item.price}</Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <Button\n                                            variant=\"contained\"\n                                            className={classes.buyButton}\n                                            onClick={this._onClickBuyButton}\n                                        >\n                                            購入\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n                            </AppBar>\n                        </React.Fragment>\n                    )\n                }\n            </BasePageContainer>\n        );\n    }\n}\n\nexport default PageComponentWithError<any>()(withStyles(styles)(ItemPage));\n","import {connect} from \"react-redux\";\nimport ItemPage from \"../pages/ItemPage\";\nimport {fetchItemPageAction} from \"../actions/fetchItemPageAction\";\nimport {AppState} from \"../index\";\nimport {push} from \"connected-react-router\";\nimport {routes} from \"../routes/Route\";\n\nconst mapStateToProps = (state: AppState) => ({\n    loading: state.page.isItemPageLoading,\n    item: state.viewingItem.item,\n    errorType: state.error.errorType,\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n    load: (itemId: string) => {\n        dispatch(fetchItemPageAction(itemId))\n    },\n    onClickBuy: (itemId: number) => {\n        dispatch(push(routes.buy.getPath(itemId)));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemPage);\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport { Link as RouteLink } from 'react-router-dom'\nimport GridListTileBar from \"@material-ui/core/GridListTileBar\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {routes} from \"../routes/Route\";\n\nconst useStyles = makeStyles(theme => ({\n    itemImage: {\n        height: '100%',\n    },\n}));\n\ninterface ItemComponentProps {\n    itemId: number\n    imageUrl: string\n    title: string\n    price: number\n}\n\nconst ItemComponent: React.FC<ItemComponentProps> = ({\n    itemId, imageUrl, title, price\n}) => {\n    const classes = useStyles();\n\n    return (\n        <Card>\n            <RouteLink to={routes.item.getPath(itemId)}>\n                <img className={classes.itemImage} src={imageUrl} alt={title}/>\n            </RouteLink>\n            <GridListTileBar\n                title={title}\n                subtitle={`¥${price}`}\n            />\n        </Card>\n    );\n};\n\nexport { ItemComponent }","import React from 'react';\nimport {ItemData} from \"../dataObjects/item\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport GridList from \"@material-ui/core/GridList\";\nimport { ItemComponent } from './ItemComponent';\nimport GridListTile from \"@material-ui/core/GridListTile\";\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n        width: '300px',\n        height: '300px',\n    },\n}));\n\ninterface ItemListPageProps {\n    items: ItemData[],\n}\n\nconst ItemListComponent: React.FC<ItemListPageProps> = ({ items }: ItemListPageProps) => {\n    const classes = useStyles();\n\n    const itemComponents = [];\n\n    for (const item of items) {\n        itemComponents.push(\n            <GridListTile className={classes.grid} key={item.id}>\n                <ItemComponent itemId={item.id} imageUrl={item.thumbnailUrl} title={item.name} price={item.price}/>\n            </GridListTile>\n        )\n    }\n\n    return (\n        <GridList cols={3}>\n            {itemComponents}\n        </GridList>\n    );\n};\n\nexport { ItemListComponent }","import React from 'react';\nimport Fab from \"@material-ui/core/Fab/Fab\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Edit} from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n    fab: {\n        margin: theme.spacing(1),\n        position: 'fixed',\n        top: 'auto',\n        bottom: '30px',\n        right: '30px',\n        width: '100px',\n        height: '100px',\n    },\n}));\n\ninterface SellingButtonComponentProps {\n    onClick: (e: React.MouseEvent) => void\n}\n\nconst SellingButonComponent: React.FC<SellingButtonComponentProps> = ({ onClick }) => {\n    const classes = useStyles();\n\n    return (\n        <Fab\n            className={classes.fab}\n            color=\"secondary\"\n            onClick={onClick}\n        >\n            <Edit fontSize=\"large\" />\n        </Fab>\n    );\n};\n\nexport { SellingButonComponent }","import { push } from 'connected-react-router';\nimport {SellingButonComponent} from \"../components/SellingButtonComponent\";\nimport {connect} from \"react-redux\";\nimport {routes} from \"../routes/Route\";\nimport * as React from \"react\";\nimport {AppState} from \"../index\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {AnyAction} from \"redux\";\n\nconst mapStateToProps = (state: AppState) => ({});\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<AppState, undefined, AnyAction>) => ({\n    onClick: (e: React.MouseEvent) => {\n        e.preventDefault();\n        dispatch(push(routes.sell.path));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SellingButonComponent);","import React from 'react';\nimport {ItemData} from \"../dataObjects/item\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { ItemListComponent } from '../components/ItemListComponent';\nimport SellingButtonContainer from \"../containers/SellingButtonContainer\";\nimport {ErrorProps, PageComponentWithError} from \"../hoc/withBaseComponent\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: theme.spacing(1),\n        justifyContent: 'space-around',\n        overflow: 'hidden',\n    },\n}));\n\ntype ItemListPageProps = {\n    items: ItemData[],\n} & ErrorProps\n\nconst ItemListPage: React.FC<ItemListPageProps> = ({ items }: ItemListPageProps) => {\n    const classes = useStyles();\n\n    return (\n        <BasePageContainer>\n            <div className={classes.root}>\n                <ItemListComponent items={items}/>\n                <SellingButtonContainer/>\n            </div>\n        </BasePageContainer>\n    );\n};\n\nexport default PageComponentWithError<ItemListPageProps>()(ItemListPage);","import {ItemData} from \"./dataObjects/item\";\nimport {UserData} from \"./dataObjects/user\";\n\nexport const mockUser: UserData = {\n    id: 1235,\n    accountName: 'Kirin',\n    address: 'Tokyo',\n    numSellItems: 0,\n};\n\n\nexport const mockItems: ItemData[] = [\n    {\n        id: 1,\n        status: 'on_sale',\n        sellerId: 1111,\n        seller: {\n            id: 1111,\n            accountName: 'sota1235',\n            address: \"\",\n            numSellItems: 1,\n        },\n        buyerId: 2222,\n        name: 'いす',\n        price: 10000,\n        description: 'いすです',\n        thumbnailUrl: 'https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png',\n        category: {\n            id: 1,\n            categoryName: 'カテゴリ1',\n            parentId: 2,\n            parentCategoryName: '親カテゴリ',\n        },\n        createdAt: 10000,\n    },\n    {\n        id: 2,\n        status: 'on_sale',\n        sellerId: 1111,\n        seller: {\n            id: 1111,\n            accountName: 'sota1235',\n            address: \"\",\n            numSellItems: 1,\n        },\n        buyerId: 2222,\n        name: 'いす',\n        price: 10000,\n        description: 'いすです',\n        thumbnailUrl: 'https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png',\n        category: {\n            id: 1,\n            categoryName: 'カテゴリ1',\n            parentId: 2,\n            parentCategoryName: '親カテゴリ',\n        },\n        createdAt: 10000,\n    },\n    {\n        id: 3,\n        status: 'on_sale',\n        sellerId: 1111,\n        seller: {\n            id: 1111,\n            accountName: 'sota1235',\n            address: \"\",\n            numSellItems: 1,\n        },\n        buyerId: 2222,\n        name: 'いす',\n        price: 10000,\n        description: 'いすです',\n        thumbnailUrl: 'https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png',\n        category: {\n            id: 1,\n            categoryName: 'カテゴリ1',\n            parentId: 2,\n            parentCategoryName: '親カテゴリ',\n        },\n        createdAt: 10000,\n    },\n    {\n        id: 4,\n        status: 'on_sale',\n        sellerId: 1111,\n        seller: {\n            id: 1111,\n            accountName: 'sota1235',\n            address: \"\",\n            numSellItems: 1,\n        },\n        buyerId: 2222,\n        name: 'いす',\n        price: 10000,\n        description: 'いすです',\n        thumbnailUrl: 'https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png',\n        category: {\n            id: 1,\n            categoryName: 'カテゴリ1',\n            parentId: 2,\n            parentCategoryName: '親カテゴリ',\n        },\n        createdAt: 10000,\n    },\n];","import {connect} from \"react-redux\";\nimport {AppState} from \"../index\";\nimport ItemListPage from \"../pages/ItemListPage\";\nimport {mockItems} from \"../mocks\";\n\nconst mapStateToProps = (state: AppState) => ({\n    items: mockItems, // TODO\n    errorType: state.error.errorType,\n    loading: false,// TODO state.page.isLoading,\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemListPage);\n","import React from 'react';\nimport BasePageContainer from \"../containers/BasePageContainer\";\nimport {ErrorProps, PageComponentWithError} from \"../hoc/withBaseComponent\";\n\ntype Props = {} & ErrorProps\n\nconst TransactionPage: React.FC<Props> = () => (\n    <BasePageContainer>\n        <div>Transaction Page</div>\n    </BasePageContainer>\n);\n\nexport default PageComponentWithError<Props>()(TransactionPage);","import {connect} from \"react-redux\";\nimport {AppState} from \"../index\";\nimport TransactionPage from \"../pages/TransactionPage\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {AnyAction} from \"redux\";\n\nconst mapStateToProps = (state: AppState) => ({\n    errorType: state.error.errorType,\n    loading: false,// TODO state.page.isLoading,\n});\nconst mapDispatchToProps = (dispatch: ThunkDispatch<AppState, undefined, AnyAction>) => ({\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TransactionPage);\n","import React from 'react';\nimport { ItemListComponent } from \"../components/ItemListComponent\";\nimport { ItemData } from \"../dataObjects/item\";\nimport { UserData } from \"../dataObjects/user\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Grid} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport SellingButtonContainer from \"../containers/SellingButtonContainer\";\nimport BasePageContainer from \"../containers/BasePageContainer\";\nimport {ErrorProps, PageComponentWithError} from \"../hoc/withBaseComponent\";\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        margin: theme.spacing(3),\n        width: '100px',\n        height: '100px',\n    },\n    itemList: {\n        marginTop: theme.spacing(4),\n    },\n}));\n\ntype Props = {\n    items: ItemData[]\n    user: UserData,\n} & ErrorProps\n\nconst UserPage: React.FC<Props> = ({ items, user }) => {\n    const classes = useStyles();\n\n    return (\n        <BasePageContainer>\n            <p>User Page</p>\n            <Grid\n                container\n                direction=\"row\"\n                justify=\"center\"\n                alignItems=\"center\"\n                wrap=\"nowrap\"\n                spacing={2}\n            >\n                <Grid item>\n                    <Avatar className={classes.avatar}>{user.accountName.charAt(0)}</Avatar>\n                </Grid>\n                <Grid item xs>\n                    <Typography variant=\"h3\">{user.accountName}</Typography>\n                </Grid>\n            </Grid>\n            <Divider variant=\"middle\" />\n            <div className={classes.itemList}>\n                <ItemListComponent items={items}/>\n            </div>\n            <SellingButtonContainer />\n        </BasePageContainer>\n    );\n};\n\nexport default PageComponentWithError<Props>()(UserPage);","import {connect} from \"react-redux\";\nimport {AppState} from \"../index\";\nimport {mockItems, mockUser} from \"../mocks\";\nimport UserPage from \"../pages/UserPage\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {AnyAction} from \"redux\";\n\nconst mapStateToProps = (state: AppState) => ({\n    items: mockItems, // TODO\n    user: mockUser,\n    errorType: state.error.errorType,\n    loading: false,// TODO state.page.isLoading,\n});\nconst mapDispatchToProps = (dispatch: ThunkDispatch<AppState, undefined, AnyAction>) => ({\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPage);\n","import {AppState} from \"../index\";\nimport {Dispatch} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {AuthRoute} from \"../components/Route/AuthRoute\";\n\nconst mapStateToProps = (state: AppState) => ({\n    isLoggedIn: !!state.authStatus.userId,\n});\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthRoute);\n","import React from 'react';\nimport {Redirect, Route, RouteProps} from \"react-router\";\nimport {routes} from \"../../routes/Route\";\n\ntype Props = {\n    isLoggedIn: boolean\n} & RouteProps\n\nconst AuthRoute: React.FC<Props> = ({ component: Component, isLoggedIn, ...rest}) => {\n    if (!Component) {\n        throw new Error('component attribute required for AuthRoute component');\n    }\n\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                isLoggedIn ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to={routes.login.path}/>\n                )\n            }\n        />\n    );\n};\n\nexport { AuthRoute }","import {AppState} from \"../index\";\nimport {Dispatch} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {NonAuthRoute} from \"../components/Route/NonAuthRoute\";\n\nconst mapStateToProps = (state: AppState) => ({\n    isLoggedIn: !!state.authStatus.userId,\n});\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NonAuthRoute);\n","import React from 'react';\nimport {Redirect, Route, RouteProps} from \"react-router\";\nimport {routes} from \"../../routes/Route\";\n\ntype Props = {\n    isLoggedIn: boolean\n} & RouteProps\n\nconst NonAuthRoute: React.FC<Props> = ({ component: Component, isLoggedIn, ...rest}) => {\n    if (!Component) {\n        throw new Error('component attribute required for NonAuthRoute component');\n    }\n\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                !isLoggedIn ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to={routes.timeline.path}/>\n                )\n            }\n        />\n    );\n};\n\nexport { NonAuthRoute }","import React from 'react';\nimport BasePageContainer from \"../containers/BasePageContainer\";\nimport {routes} from \"../routes/Route\";\nimport {Button} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {Link, LinkProps} from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(2),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    textarea: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(2),\n    },\n    img: {\n        width: '70%',\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n}));\n\nconst TopPage: React.FC = () => {\n    const classes = useStyles();\n    const LoginButtonLink = React.forwardRef(\n        (props: LinkProps, ref: React.Ref<any>) => <Link innerRef={ref} {...props}>ログイン</Link>\n    );\n    const RegisterButtonLink = React.forwardRef(\n        (props: LinkProps, ref: React.Ref<any>) => <Link innerRef={ref} {...props}>新規会員登録</Link>\n    );\n\n    return (\n        <BasePageContainer>\n            <div className={classes.paper}>\n                <img className={classes.img} src={'/logo.png'} alt={'ISUCARI'}/>\n                <div className={classes.textarea}>\n                    <Typography variant=\"h6\">\n                        ついにリリース！\n                    </Typography>\n                    <Typography variant=\"h6\">\n                        椅子限定C2CのECサービス カードで簡単決済。\n                    </Typography>\n                    <Typography variant=\"h6\">\n                        もちろんセキュリティも万全。 お互いの住所を知らなくても配送可能。\n                    </Typography>\n                </div>\n                <Button\n                    color=\"primary\"\n                    fullWidth\n                    className={classes.button}\n                    variant=\"contained\"\n                    size=\"medium\"\n                    component={LoginButtonLink}\n                    to={routes.login.path}\n                />\n                <Button\n                    color=\"primary\"\n                    fullWidth\n                    className={classes.button}\n                    variant=\"outlined\"\n                    size=\"medium\"\n                    component={RegisterButtonLink}\n                    to={routes.register.path}\n                />\n            </div>\n        </BasePageContainer>\n    );\n};\n\nexport default TopPage;","import React from 'react';\nimport {Route, Switch} from \"react-router-dom\";\nimport SignInPage from \"../pages/SignInPage\";\nimport SignUpPage from \"../pages/SignUpPage\";\nimport SellPage from \"../pages/SellPage\";\nimport ItemEditPage from \"../pages/ItemEditPage\";\nimport ItemBuyPage from \"../pages/ItemBuyPage\";\nimport UserSettingPage from \"../pages/UserSettingPage\";\nimport BuyCompletePage from \"../pages/BuyComplete\";\nimport ItemPageContainer from \"../containers/ItemPageContainer\";\nimport ItemListPageContainer from \"../containers/ItemListPageContainer\";\nimport TransactionPageContainer from \"../containers/TransactionPageContainer\";\nimport UserPageContainer from \"../containers/UserPageContainer\";\nimport AuthRoute from '../containers/AuthContainer';\nimport NonAuthRoute from '../containers/NonAuthContainer';\nimport NotFoundPage from \"../pages/error/NotFoundPage\";\nimport TopPage from \"../pages/TopPage\";\n\ninterface route {\n    [name: string]: {\n        path: string,\n        getPath: (...params: any) => string, // TODO: optionalにしたい\n    }\n}\n\nexport const routes: route = {\n    top: {\n        path: '/',\n        getPath: () => '/',\n    },\n    login: {\n        path: '/login',\n        getPath: () => '/login',\n    },\n    register: {\n        path: '/register',\n        getPath: () => 'register',\n    },\n    timeline: {\n        path: '/timeline',\n        getPath: () => '/timeline',\n    },\n    categoryTimeline: {\n        path: '/categories/:category_id/items',\n        getPath: (categoryId: number) => `/categories/${categoryId}/items`\n    },\n    sell: {\n        path: '/sell',\n        getPath: () => '/sell',\n    },\n    item: {\n        path: '/items/:item_id',\n        getPath: (itemId: number) => `/items/${itemId}`,\n    },\n    itemEdit: {\n        path: '/items/:item_id/edit',\n        getPath: (itemId: number) => `/items/${itemId}/edit`\n    },\n    buy: {\n        path: '/items/:item_id/buy',\n        getPath: (itemId: number) => `/items/${itemId}/buy`,\n    },\n    buyComplete: {\n        path: '/buy/complete',\n        getPath: () => '/buy/complete',\n    },\n    transaction: {\n        path: '/transactions/:transaction_id',\n        getPath: (transactionId: number) => `/transactions/${transactionId}`,\n    },\n    user: {\n        path: '/users/:user_id',\n        getPath: (userId: number) => `/users/${userId}`,\n    },\n    userSetting: {\n        path: '/users/setting',\n        getPath: () => '/users/setting',\n    },\n};\n\nexport const AppRoute: React.FC = () => {\n    return (\n        <Switch>\n            <NonAuthRoute exact path={routes.top.path}      component={TopPage} />\n            <NonAuthRoute exact path={routes.login.path}    component={SignInPage} />\n            <NonAuthRoute exact path={routes.register.path} component={SignUpPage}/>\n            <AuthRoute exact path={routes.timeline.path}    component={ItemListPageContainer} />\n            <AuthRoute exact path={routes.sell.path}        component={SellPage} />\n            <AuthRoute exact path={routes.item.path}        component={ItemPageContainer} />\n            <AuthRoute exact path={routes.itemEdit.path}    component={ItemEditPage} />\n            <AuthRoute exact path={routes.buy.path}         component={ItemBuyPage} />\n            <AuthRoute exact path={routes.buyComplete.path} component={BuyCompletePage} />\n            <AuthRoute exact path={routes.transaction.path} component={TransactionPageContainer} />\n            <AuthRoute exact path={routes.user.path}        component={UserPageContainer} />\n            <AuthRoute exact path={routes.userSetting.path} component={UserSettingPage} />\n            <Route component={NotFoundPage} />\n        </Switch>\n    );\n};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './App.css';\nimport {AppRoute} from \"./routes/Route\";\n\nconst routes: Array<{\n    path: string,\n    pageName: string,\n}> = [\n    {\n        path: '/',\n        pageName: 'Top page'\n    },\n    {\n        path: '/login',\n        pageName: 'Sign in page',\n    },\n    {\n        path: '/register',\n        pageName: 'Sign up page',\n    },\n    {\n        path: '/timeline',\n        pageName: 'Timeline page'\n    },\n    {\n        path: '/items/:item_id',\n        pageName: 'Item page',\n    },\n    {\n        path: '/items/:item_id/edit',\n        pageName: 'Item edit page',\n    },\n    {\n        path: '/items/:item_id/buy',\n        pageName: 'Item buy page',\n    },\n    {\n        path: '/buy/complete',\n        pageName: 'Buying complete page',\n    },\n    {\n        path: '/sell',\n        pageName: 'Sell page',\n    },\n    {\n        path: '/transactions/:transaction_id',\n        pageName: 'Transaction page',\n    },\n    {\n        path: '/users/:user_id',\n        pageName: 'User page',\n    },\n    {\n        path: '/users/setting',\n        pageName: 'User setting page',\n    },\n];\n\nconst getLinks: () => any[] = () => {\n    const routeComponents: React.ReactNode[] = []; // TODO\n\n    for (const route of routes) {\n        routeComponents.push(\n            <li key={route.pageName}>\n                <Link to={route.path}>{route.pageName}</Link>\n            </li>\n        );\n    }\n\n    return routeComponents;\n};\n\nconst App: React.FC = () => {\n    return (\n        <React.Fragment>\n            <div>\n                <ul>\n                    {getLinks()}\n                </ul>\n            </div>\n            <hr />\n            <AppRoute/>\n        </React.Fragment>\n    );\n};\n\nexport default App;\n","import logger from './logger';\nimport {Middleware} from \"redux\";\n\nconst middlewares: Middleware[] = [logger];\n\nexport default middlewares;","import {AnyAction, Dispatch, Middleware, MiddlewareAPI} from \"redux\";\nimport {AppState} from \"../index\";\n\nconst logger: Middleware =\n    <S extends AppState>({ getState }: MiddlewareAPI<Dispatch, S>) =>\n        (next: Dispatch<AnyAction>) =>\n            (action: any): any => {\n    console.group(action.type);\n    console.info('dispatching', action);\n    const result = next(action);\n    console.log('next state', getState());\n    console.groupEnd();\n    return result;\n};\n\nexport default logger;","import {LOGIN_SUCCESS, LoginSuccessAction} from \"../actions/authenticationActions\";\nimport {REGISTER_SUCCESS, RegisterSuccessAction} from \"../actions/registerAction\";\nimport {\n    FETCH_SETTINGS_FAIL,\n    FETCH_SETTINGS_SUCCESS,\n    FetchSettingsFailAction,\n    FetchSettingsSuccessAction\n} from \"../actions/settingsAction\";\nimport {UserData} from \"../dataObjects/user\";\n\n\nexport interface AuthStatusState {\n    userId?: number\n    accountName?: string\n    address?: string,\n    checked: boolean, // 初回のsettings取得が完了したかどうか\n}\n\nconst initialState: AuthStatusState = {\n    checked: false,\n};\n\ntype Actions = LoginSuccessAction\n    | RegisterSuccessAction\n    | FetchSettingsSuccessAction\n    | FetchSettingsFailAction;\n\nconst authStatus = (state: AuthStatusState = initialState, action: Actions): AuthStatusState => {\n    switch (action.type) {\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS: {\n            return {\n                ...state,\n                ...action.payload,\n            }\n        }\n        case FETCH_SETTINGS_SUCCESS: {\n            const user: UserData | undefined = action.payload.settings.user;\n            let userPayload: {\n                userId: number,\n                accountName: string,\n                address?: string,\n            } | {} = {};\n\n            if (user) {\n                userPayload = {\n                    userId: user.id,\n                    accountName: user.accountName,\n                    address: user.address || undefined,\n                }\n            }\n\n            return {\n                ...state,\n                ...userPayload,\n                checked: true,\n            }\n        }\n        case FETCH_SETTINGS_FAIL: {\n            return {\n                ...state,\n                checked: true,\n            }\n        }\n        default:\n            return state;\n    }\n};\n\nexport default authStatus;","import {LOGIN_FAIL} from \"../actions/authenticationActions\";\nimport { AnyAction } from \"redux\";\nimport {REGISTER_FAIL} from \"../actions/registerAction\";\nimport {SELLING_ITEM_FAIL} from \"../actions/sellingItemAction\";\nimport {BUY_FAIL, USING_CARD_FAIL} from \"../actions/buyAction\";\n\nexport interface FormErrorState {\n    error?: string,\n    buyFormError?: BuyFormErrorState,\n}\n\nexport interface BuyFormErrorState {\n    cardError?: string, // Error from payment service\n    buyError?: string,  // Error from app\n}\n\nconst initialState: FormErrorState = {\n    error: undefined,\n    buyFormError: {},\n};\n\nconst formError = (state: FormErrorState = initialState, action: AnyAction): FormErrorState => {\n    switch (action.type) {\n        case LOGIN_FAIL:\n        case REGISTER_FAIL:\n        case USING_CARD_FAIL:\n        case BUY_FAIL:\n        case SELLING_ITEM_FAIL: {\n            return {\n                ...action.payload,\n            }\n        }\n        default:\n            return initialState;\n    }\n};\n\nexport default formError;","import { AnyAction } from \"redux\";\nimport {ItemData} from \"../dataObjects/item\";\nimport {FETCH_ITEM_PAGE_SUCCESS, FetchItemPageSuccessAction} from \"../actions/fetchItemPageAction\";\n\nexport interface ViewingItemState {\n    item?: ItemData\n}\n\nconst initialState: ViewingItemState = {\n};\n\ntype actions = AnyAction | FetchItemPageSuccessAction;\n\nconst viewingItem = (state: ViewingItemState = initialState, action: actions): ViewingItemState => {\n    switch (action.type) {\n        case FETCH_ITEM_PAGE_SUCCESS:\n            return {...state, item: action.payload.item };\n        default:\n            return state;\n    }\n};\n\nexport default viewingItem;","import {AnyAction} from \"redux\";\nimport {FETCH_ITEM_PAGE_FAIL, FETCH_ITEM_PAGE_START, FETCH_ITEM_PAGE_SUCCESS} from \"../actions/fetchItemPageAction\";\nimport {FETCH_SETTINGS_FAIL, FETCH_SETTINGS_START, FETCH_SETTINGS_SUCCESS} from \"../actions/settingsAction\";\n\nexport interface PageState {\n    isLoading: boolean\n    isItemPageLoading: boolean,\n}\n\nconst initialState: PageState = {\n    isLoading: true,\n    isItemPageLoading: true,\n};\n\nconst page = (state: PageState = initialState, action: AnyAction): PageState => {\n    switch (action.type) {\n        case FETCH_ITEM_PAGE_START:\n            return { ...state, isItemPageLoading: true };\n        case FETCH_ITEM_PAGE_SUCCESS:\n        case FETCH_ITEM_PAGE_FAIL:\n            return { ...state, isItemPageLoading: false };\n        case FETCH_SETTINGS_START:\n            return { ...state, isLoading: true };\n        case FETCH_SETTINGS_SUCCESS:\n        case FETCH_SETTINGS_FAIL:\n            return { ...state, isLoading: false };\n        default:\n            return {...state};\n    }\n};\n\nexport default page;","import {AnyAction} from \"redux\";\nimport {BUY_FAIL, BUY_START, BUY_SUCCESS, USING_CARD_FAIL} from \"../actions/buyAction\";\n\nexport interface BuyPageState {\n    loadingBuy: boolean\n}\n\nconst initialState: BuyPageState = {\n    loadingBuy: false,\n};\n\nconst buyPage = (state: BuyPageState = initialState, action: AnyAction): BuyPageState => {\n    switch (action.type) {\n        case BUY_START:\n            return { ...state, loadingBuy: true };\n        case BUY_SUCCESS:\n        case BUY_FAIL:\n        case USING_CARD_FAIL:\n            return { ...state, loadingBuy: false};\n        default:\n            return {...state};\n    }\n};\n\nexport default buyPage;","import {AnyAction} from \"redux\";\nimport {CategorySimple} from \"../dataObjects/category\";\nimport {FETCH_SETTINGS_SUCCESS, FetchSettingsSuccessAction} from \"../actions/settingsAction\";\n\nexport interface CategoriesState {\n    categories: CategorySimple[],\n}\n\nconst initialState: CategoriesState = {\n    categories: [],\n};\n\ntype Actions = FetchSettingsSuccessAction | AnyAction;\n\nconst categories = (state: CategoriesState = initialState, action: Actions): CategoriesState => {\n    switch (action.type) {\n        case FETCH_SETTINGS_SUCCESS:\n            return {\n                categories: action.payload.settings.categories,\n            };\n        default:\n            return { ...state };\n    }\n};\n\nexport default categories;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { createBrowserHistory } from 'history';\nimport { ConnectedRouter } from \"connected-react-router\";\nimport { getStore } from \"./configureStore\";\nimport createRootReducer from './reducers/index';\n\nconst history = createBrowserHistory();\nconst rootReducers = createRootReducer(history);\nconst store = getStore(rootReducers, history);\n\nexport type AppState = ReturnType<typeof rootReducers>;\n\nReactDOM.render(\n    <Provider store={store}>\n        <ConnectedRouter history={history}>\n            <App />\n        </ConnectedRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n","import {applyMiddleware, createStore, Reducer, Store} from 'redux';\nimport { History } from 'history';\nimport { routerMiddleware } from \"connected-react-router\";\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport middlewares from './middlewares';\n\nexport const getStore = (reducer: Reducer, history: History): Store => {\n    return createStore(\n        reducer,\n        composeWithDevTools(\n            applyMiddleware(\n                thunk,\n                routerMiddleware(history),\n                ...middlewares,\n            ),\n        ),\n    );\n};\n"],"sourceRoot":""}