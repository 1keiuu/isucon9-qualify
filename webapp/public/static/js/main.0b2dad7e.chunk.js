(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){e.exports=a(268)},178:function(e,t,a){},179:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),o=(a(178),a(29)),s=(a(179),a(26)),u=a(296),l=a(9),m=a(15),p=a(13),d=a(11),h=a(19),g=a(12),f=a(289),E=a(290),b=a(292),v=a(293),y=a(294),_=a(295),O=a(291),j=a(17),C=a.n(j),S=a(103),N=function(e){var t=e.id,a=e.error;return r.a.createElement(S.a,{key:a,id:t,error:!0},a)},I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={accountName:"",password:""},a._onSubmit=a._onSubmit.bind(Object(h.a)(a)),a._onChangeAccountName=a._onChangeAccountName.bind(Object(h.a)(a)),a._onChangePassword=a._onChangePassword.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_onSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.accountName,n=t.password;this.props.onSubmit(a,n)}},{key:"_onChangeAccountName",value:function(e){this.setState({accountName:e.target.value})}},{key:"_onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.accountName,a=e.password,n=this.props.classes;return r.a.createElement("div",{className:n.paper},r.a.createElement(E.a,{className:n.avatar},r.a.createElement(O.a,null)),r.a.createElement(b.a,{component:"h1",variant:"h5"},"\u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8"),r.a.createElement("form",{className:n.form,noValidate:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"accountName",label:"\u30e6\u30fc\u30b6\u540d",name:"accountName",autoFocus:!0,value:t,onChange:this._onChangeAccountName}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",name:"password",type:"password",autoComplete:"current-password",value:a,onChange:this._onChangePassword}),this.props.error&&r.a.createElement(N,{id:"signInButton",error:this.props.error}),r.a.createElement(y.a,{id:"signInButton",type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:this._onSubmit,className:n.submit},"\u30ed\u30b0\u30a4\u30f3"),r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(o.a,{to:Ja.register.path},"\u65b0\u898f\u767b\u9332\u306f\u3053\u3061\u3089")))))}}]),t}(r.a.Component),T=C()(function(e){return Object(f.a)({paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})})(I),w=a(8),k=a(42),x=a.n(k),P=a(58),F={apiUrl:"http://localhost:8000",paymentUrl:"http://localhost:5555"},L=a(90),A=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).res=void 0,n.res=a,n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"getResponse",value:function(){return this.res}}]),t}(Object(L.a)(Error)),U=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),t}(A),R=new(function(){function e(){Object(l.a)(this,e),this.baseUrl=F.apiUrl,this.defaultHeaders={}}return Object(m.a)(e,[{key:"get",value:function(){var e=Object(P.a)(x.a.mark(function e(t){var a,n,r,i,c=arguments;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=c.length>1&&void 0!==c[1]?c[1]:{},n=new URLSearchParams,a)void 0!==a[r]&&n.set(r,a[r]);return i="".concat(this.baseUrl).concat(t),""!==n.toString()&&(i="".concat(i,"?").concat(n.toString())),e.next=7,fetch(i,{method:"GET",headers:this.defaultHeaders});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(P.a)(x.a.mark(function e(t){var a,n,r=arguments;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},n={method:"POST",mode:"same-origin",headers:Object.assign({},this.defaultHeaders,{"Content-Type":"application/json"}),credentials:"same-origin"},e.next=4,this.getCsrfToken();case 4:return a.csrf_token=e.sent,a&&(n.body=JSON.stringify(a)),e.next=8,fetch("".concat(this.baseUrl).concat(t),n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCsrfToken",value:function(){var e=Object(P.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/settings",{method:"GET",headers:this.defaultHeaders});case 2:if((t=e.sent).ok){e.next=5;break}throw new U("CSRF token\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f",t);case 5:return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.csrf_token);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()),H=a(27),B="LOGIN_SUCCESS",D="LOGIN_FAIL";function M(e,t){return function(a){R.post("/login",{account_name:e,password:t}).then(function(e){if(200!==e.status)throw new Error("HTTP status not 200");return e.json()}).then(function(e){var t;a((t={userId:e.id,accountName:e.account_name,address:e.address},{type:B,payload:t})),a(Object(H.d)(Ja.top.path))}).catch(function(e){var t;a((t={error:e.message},{type:D,payload:t}))})}}var W=Object(w.c)(function(e){return{error:e.formError.error}},function(e){return{onSubmit:function(t,a){e(M(t,a))}}})(T);var G=function(){return{type:"FETCH_SETTINGS_START"}},q=function(e){return{type:"FETCH_SETTINGS_SUCCESS",payload:{settings:e}}},z=function(){return{type:"FETCH_SETTINGS_FAIL"}},V=a(163),J=a(298),Y=a(299),Q=a(297),K=Object(u.a)(function(e){return{progress:{top:0,bottom:0,right:0,left:0,margin:"auto",position:"absolute"}}}),X=function(){var e=K();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{size:80,className:e.progress}))},Z=Object(V.a)({palette:{background:{default:"white"}}}),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.alreadyLoaded||a.props.load(),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(J.a,{theme:Z},r.a.createElement(Y.a,{maxWidth:"lg"},this.props.loading?r.a.createElement(X,null):this.props.children||null))}}]),t}(r.a.Component),ee=Object(w.c)(function(e){return{loading:e.page.isLoading,alreadyLoaded:e.authStatus.checked}},function(e){return{load:function(){e(function(e){Promise.resolve(function(){e(G())}).then(function(){return R.get("/settings")}).then(function(e){if(!e.ok)throw new U("Request for getting settings data was failed",e);return e.json()}).then(function(t){var a=void 0;t.user&&(a={id:t.user.id,accountName:t.user.account_name,address:t.user.address,numSellItems:t.user.num_sell_items}),e(q({csrfToken:t.csrf_token,categories:t.categories.map(function(e){return{id:e.id,parentId:e.parent_id,categoryName:e.category_name}}),user:a}))}).catch(function(t){e(z())})})}}})($),te=Object(u.a)(function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"}}}),ae=function(){var e=te();return r.a.createElement(ee,null,r.a.createElement("div",{className:e.paper},r.a.createElement(W,null)))},ne=a(31),re=a.n(ne),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={accountName:"",address:"",password:""},a._onSubmit=a._onSubmit.bind(Object(h.a)(a)),a._onChangeAccountName=a._onChangeAccountName.bind(Object(h.a)(a)),a._onChangeAddress=a._onChangeAddress.bind(Object(h.a)(a)),a._onChangePassword=a._onChangePassword.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_onSubmit",value:function(e){e.preventDefault(),this.props.register({account_name:this.state.accountName,address:this.state.address,password:this.state.password})}},{key:"_onChangeAccountName",value:function(e){this.setState({accountName:e.target.value})}},{key:"_onChangeAddress",value:function(e){this.setState({address:e.target.value})}},{key:"_onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.accountName,n=t.address,i=t.password;return r.a.createElement("div",{className:e.paper},r.a.createElement(E.a,{className:e.avatar},r.a.createElement(O.a,null)),r.a.createElement(b.a,{component:"h1",variant:"h5"},"\u65b0\u898f\u767b\u9332"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"\u30e6\u30fc\u30b6\u540d",name:"name",value:a,onChange:this._onChangeAccountName,autoFocus:!0}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address",label:"\u4f4f\u6240",name:"address",value:n,onChange:this._onChangeAddress}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",name:"password",type:"password",value:i,onChange:this._onChangePassword}),this.props.error&&r.a.createElement(N,{id:"signUpButton",error:this.props.error}),r.a.createElement(y.a,{id:"signUpButton",type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this._onSubmit},"\u65b0\u898f\u767b\u9332"),r.a.createElement(_.a,{container:!0},r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(o.a,{to:Ja.login.path},"\u3059\u3067\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u65b9\u306f\u3053\u3061\u3089")))))}}]),t}(r.a.Component),ce=C()(function(e){return Object(f.a)({paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})})(ie),oe="REGISTER_SUCCESS",se="REGISTER_FAIL";function ue(e){return function(t){R.post("/register",e).then(function(e){if(200!==e.status)throw new Error("HTTP status not 200");return e.json()}).then(function(e){var a;t((a={userId:e.id,accountName:e.account_name,address:e.address},{type:oe,payload:a})),t(Object(H.d)(Ja.top.path))}).catch(function(e){var a;t((a={error:e.message},{type:se,payload:a}))})}}var le=Object(w.c)(function(e){return{error:e.formError.error}},function(e){return{register:function(t){e(ue(t))}}})(ce),me=re()(function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"}}}),pe=function(){var e=me();return r.a.createElement(ee,null,r.a.createElement("div",{className:e.paper},r.a.createElement(le,null)))},de=a(152),he=a.n(de),ge=a(153),fe=a.n(ge),Ee=a(300),be=a(46),ve=a.n(be),ye=a(151),_e=a.n(ye),Oe=a(92),je=a.n(Oe),Ce=a(154),Se=a.n(Ce),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={imagePreviewUrl:""},a._handleImageChange=a._handleImageChange.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_handleImageChange",value:function(e){var t=this;if(e.preventDefault(),null!==e.target.files){var a=new FileReader,n=e.target.files[0];a.onloadend=function(){if("string"!==typeof a.result)throw new Error;t.setState({file:n,imagePreviewUrl:a.result})},a.readAsDataURL(n)}}},{key:"render",value:function(){var e=this.props.classes,t=this.state.imagePreviewUrl,a=null;return console.log(t),a=t?r.a.createElement("img",{alt:"\u30d7\u30ec\u30d3\u30e5\u30fc",src:t}):r.a.createElement(he.a,null,r.a.createElement(fe.a,{className:e.avatar},r.a.createElement(Ee.a,null)),r.a.createElement(ve.a,null,"\u5546\u54c1\u753b\u50cf")),r.a.createElement(je.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(je.a,{item:!0,xs:8},a),r.a.createElement(je.a,{item:!0,xs:4},r.a.createElement("input",{accept:"image/*",className:e.upload,id:"outlined-button-file",type:"file",onChange:this._handleImageChange}),r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(Se.a,{variant:"outlined",component:"span",className:e.button},"Upload"))))}}]),t}(r.a.Component),Ie=C()(function(e){return _e()({upload:{display:"none"},avatar:{margin:e.spacing(1)},button:{margin:e.spacing(1)}})})(Ne),Te=a(66),we=a.n(Te),ke=a(115),xe=a(308),Pe=a(113),Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={name:"",description:"",price:0,selectedCategoryId:0},a._onSubmit=a._onSubmit.bind(Object(h.a)(a)),a._onChangeName=a._onChangeName.bind(Object(h.a)(a)),a._onChangeDescription=a._onChangeDescription.bind(Object(h.a)(a)),a._onChangeCategory=a._onChangeCategory.bind(Object(h.a)(a)),a._onChangePrice=a._onChangePrice.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_onSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.name,n=t.description,r=t.price,i=t.selectedCategoryId;i?this.props.sellItem(a,n,r,i):this.setState({categoryError:"\u30ab\u30c6\u30b4\u30ea\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})}},{key:"_onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"_onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"_onChangeCategory",value:function(e,t){this.setState({selectedCategoryId:Number(e.target.value)})}},{key:"_onChangePrice",value:function(e){var t=e.target.value;we.a.isNumeric(t,{no_symbols:!0})?this.setState({price:Number(t)}):e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.categories,n=this.state,i=n.name,c=n.description,o=n.price,s=n.selectedCategoryId,u=n.categoryError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{component:"h1",variant:"h5"},"\u51fa\u54c1\u30da\u30fc\u30b8"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(Ie,null),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"\u5546\u54c1\u540d",name:"name",value:i,onChange:this._onChangeName,autoFocus:!0}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"\u5546\u54c1\u8aac\u660e",name:"description",value:c,onChange:this._onChangeDescription,multiline:!0,rows:5}),r.a.createElement(ke.a,{htmlFor:"choose-category"},"\u30ab\u30c6\u30b4\u30ea"),r.a.createElement(Pe.a,{className:t.selectForm,value:s,onChange:this._onChangeCategory,inputProps:{name:"category",id:"choose-category"}},r.a.createElement(xe.a,{value:0},r.a.createElement("em",null,"-")),a.map(function(e){return r.a.createElement(xe.a,{value:e.id},e.categoryName)})),u&&r.a.createElement(N,{id:"choose-category",error:u}),r.a.createElement(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"\u5024\u6bb5",name:"price",value:o,onChange:this._onChangePrice}),this.props.error&&r.a.createElement(N,{id:"sellButton",error:this.props.error}),r.a.createElement(y.a,{id:"sellButton",type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this._onSubmit},"\u51fa\u54c1\u3059\u308b")))}}]),t}(r.a.Component),Le=C()(function(e){return Object(f.a)({form:{width:"80%",marginTop:e.spacing(1)},selectForm:{minWidth:"200px",margin:e.spacing(1,0,2)},submit:{margin:e.spacing(3,0,2)}})})(Fe),Ae="SELLING_ITEM_SUCCESS",Ue="SELLING_ITEM_FAIL";function Re(e,t,a,n){return function(r){var i={name:e,description:t,price:a,category_id:n};R.post("/sell",i).then(function(e){if(!e.ok)throw new Error("HTTP status not 200");return e.json()}).then(function(e){var t;r((t=e.id,{type:Ae,payload:{itemId:t}})),r(Object(H.d)(Ja.top.path))}).catch(function(e){var t;r((t={error:e.message},{type:Ue,payload:t}))})}}var He=Object(w.c)(function(e){var t=e.categories.categories.filter(function(e){return 0!==e.parentId});return{error:e.formError.error,categories:t}},function(e){return{sellItem:function(t,a,n,r){e(Re(t,a,n,r))}}})(Le),Be="NOT_FOUND_ERROR",De="INTERNAL_SERVER_ERROR";var Me=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),t}(Object(L.a)(Error));function We(e){return function(t){Promise.resolve(function(){t(Ge())}).then(function(){return R.get("/items/".concat(e,".json"))}).then(function(e){if(!e.ok){if(404===e.status)throw new Me("Item not found");throw new U("Request for getting item data was failed",e)}return e.json()}).then(function(e){t(qe({id:e.id,status:e.status,sellerId:e.seller_id,seller:{id:e.seller.id,accountName:e.seller.account_name,numSellItems:e.seller.num_sell_items},buyerId:e.buyer_id,buyer:e.buyer,name:e.name,price:e.price,thumbnailUrl:"https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png",description:e.description,category:{id:e.category.id,parentId:e.category.parent_id,categoryName:e.category.category_name,parentCategoryName:e.category.parent_category_name},transactionEvidenceId:e.transaction_evidence_id,transactionEvidenceStatus:e.transaction_evidence_status,shippingStatus:e.shipping_status,createdAt:e.created_at}))}).catch(function(e){t(ze())})}}var Ge=function(){return{type:"FETCH_ITEM_START"}},qe=function(e){return{type:"FETCH_ITEM_SUCCESS",payload:{item:e}}},ze=function(){return{type:"FETCH_ITEM_FAIL"}},Ve="POST_SHIPPED_START",Je="POST_SHIPPED_SUCCESS",Ye="POST_SHIPPED_FAIL";function Qe(e){return function(t){Promise.resolve().then(function(){t({type:Ve})}).then(function(){return R.post("/ship",{item_id:e})}).then(function(e){if(200!==e.status)throw new Error("HTTP status not 200");return e.json()}).then(function(e){t({type:Je})}).catch(function(e){var a;t((a={error:e.message},{type:Ye,payload:a}))})}}var Ke=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Be:return{errorType:"NOT_FOUND",errorCode:404};case De:case"FETCH_ITEM_FAIL":case"FETCH_SETTINGS_FAIL":case Ye:return{errorType:"INTERNAL_SERVER_ERROR",errorCode:500};default:return{errorType:"NO_ERROR"}}},Xe=a(59),Ze=function(){return r.a.createElement("div",null,"404 Not Found")},$e=function(){return r.a.createElement("div",null,"Internal Server Error")},et=function(){return Object(Xe.b)(Object(Xe.d)(function(e){return{errorType:e.errorType}}),Object(Xe.a)(function(e){return"NOT_FOUND"===e.errorType},Object(Xe.c)(Ze)),Object(Xe.a)(function(e){return"INTERNAL_SERVER_ERROR"===e.errorType},Object(Xe.c)($e)))},tt=Object(u.a)(function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"}}}),at=et()(function(){var e=tt();return r.a.createElement(ee,null,r.a.createElement("div",{className:e.paper},r.a.createElement(He,null)))}),nt=function(){return r.a.createElement(ee,null,r.a.createElement("div",null,"Item Edit Page"))},rt=a(156),it=a.n(rt),ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e)))._onClick=a._onClick.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_onClick",value:function(e){e.preventDefault(),this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.buttonName,r=e.classes;return n.createElement(n.Fragment,null,n.createElement(y.a,{className:r.button,disabled:t,onClick:this._onClick},a),t&&n.createElement(Q.a,{size:24,className:r.buttonProgress}))}}]),t}(n.Component),ot=C()(function(e){return Object(f.a)({button:{margin:e.spacing(3,0,1)},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}})})(ct),st=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={cardNumber:""},a._onChangeCardNumber=a._onChangeCardNumber.bind(Object(h.a)(a)),a._onClickBuyButton=a._onClickBuyButton.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_onChangeCardNumber",value:function(e){var t=e.target.value;t.length>8||(we.a.isHexadecimal(t)||""===t)&&this.setState({cardNumber:t.toUpperCase()})}},{key:"_onClickBuyButton",value:function(e){var t=this.props.item.id,a=this.state.cardNumber;this.props.onBuyAction(t,a)}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.errors,n=e.classes,i=e.loadingBuy,c=a.cardError,o=a.buyError;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:n.itemImage,alt:t.name,src:t.thumbnailUrl}),r.a.createElement(ve.a,{variant:"h4"},t.name),r.a.createElement(ve.a,{variant:"h5"},"".concat(t.price,"\uff72\uff7d\uff7a\uff72\uff9d")),r.a.createElement("form",{className:n.form,noValidate:!0},r.a.createElement(it.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"cardNumber",label:"\u30ab\u30fc\u30c9\u756a\u53f7",name:"cardNumber",helperText:"16\u9032\u6570\u5927\u6587\u5b57\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",error:!!c,value:this.state.cardNumber,onChange:this._onChangeCardNumber,autoFocus:!0}),c&&r.a.createElement(N,{id:"cardNumber",error:c}),r.a.createElement(ot,{onClick:this._onClickBuyButton,buttonName:"\u8cfc\u5165",loading:i}),o&&r.a.createElement(N,{id:"buyButton",error:o})))}}]),t}(r.a.Component),ut=C()(function(e){return Object(f.a)({itemImage:{width:"100%",maxWidth:"500px",height:"auto",textAlign:"center"},form:{width:"100%",marginTop:e.spacing(3,0,1)}})})(st),lt=new(function(){function e(){Object(l.a)(this,e),this.baseUrl=F.paymentUrl,this.defaultHeaders={}}return Object(m.a)(e,[{key:"get",value:function(){var e=Object(P.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl).concat(t),{method:"GET",headers:this.defaultHeaders});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(P.a)(x.a.mark(function e(t,a){var n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",mode:"cors",headers:Object.assign({},this.defaultHeaders,{"Content-Type":"application/json"}),credentials:"same-origin"},a&&(n.body=JSON.stringify(a)),e.next=4,fetch("".concat(this.baseUrl).concat(t),n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),mt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),t}(A),pt="BUY_START",dt="BUY_SUCCESS",ht="BUY_FAIL",gt="USING_CARD_FAIL";function ft(e,t){return function(a){Promise.resolve(function(){a({type:pt})}).then(function(){return lt.post("/card",{card_number:t,shop_id:"11"})}).then(function(e){if(!e.ok)throw new mt("request to /card of payment service was failed",e);return e.json()}).catch(function(e){throw new mt(e.message)}).then(function(t){return R.post("/buy",{item_id:e,token:t.token})}).then(function(e){if(!e.ok)throw new U("request to /buy of app was failed",e);return e.json()}).then(function(){a({type:dt}),a(Object(H.d)(Ja.buyComplete.path))}).catch(function(e){if(e instanceof A){var t,n=e.getResponse();return t=e instanceof mt?Et:bt,n?n.json().then(function(n){n&&n.error?a(t(n.error)):a(t(e.message))}):void a(t(e.message))}a(bt(e.message))})}}function Et(e){return{type:gt,payload:{error:void 0,buyFormError:{cardError:e}}}}function bt(e){return{type:ht,payload:{error:void 0,buyFormError:{buyError:e}}}}var vt=Object(w.c)(function(e){return{item:e.viewingItem.item,errors:e.formError.buyFormError,loadingBuy:e.buyPage.loadingBuy}},function(e){return{onBuyAction:function(t,a){e(ft(t,a))}}})(ut),yt=function(){return r.a.createElement(ee,null,r.a.createElement(vt,null))},_t=function(){return r.a.createElement(ee,null,"User setting Page")},Ot=function(){return r.a.createElement(ee,null,r.a.createElement("div",null,"Item buying Page"))},jt=a(302),Ct=a(301),St=re()(function(e){return{appBar:{top:"auto",bottom:0},buyButton:{margin:e.spacing(1)}}}),Nt=function(e){var t=e.price,a=e.onClick,r=e.buttonText,i=St();return n.createElement(Ct.a,{color:"primary",position:"fixed",className:i.appBar},n.createElement(_.a,{container:!0,spacing:2,direction:"row",alignItems:"center"},n.createElement(_.a,{item:!0},n.createElement(b.a,{variant:"h5"},t,"\uff72\uff7d\uff7a\uff72\uff9d")),n.createElement(_.a,{item:!0},n.createElement(y.a,{variant:"contained",className:i.buyButton,onClick:a},r))))},It=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.load(a.props.match.params.item_id),a._onClickBuyButton=a._onClickBuyButton.bind(Object(h.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"_onClickBuyButton",value:function(e){e.preventDefault(),this.props.onClickBuy(this.props.item.id)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.item,n=e.loading;return r.a.createElement(ee,null,n?r.a.createElement(X,null):r.a.createElement(r.a.Fragment,null,"Item Page",r.a.createElement(b.a,{className:t.title,variant:"h3"},a.name),r.a.createElement(_.a,{container:!0,spacing:2},r.a.createElement(_.a,{item:!0},r.a.createElement("img",{className:t.itemImage,alt:a.name,src:a.thumbnailUrl})),r.a.createElement(_.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(_.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement("div",{className:t.descSection},r.a.createElement(b.a,{variant:"h4"},"\u5546\u54c1\u8aac\u660e"),r.a.createElement(jt.a,{className:t.divider,variant:"middle"}),r.a.createElement(b.a,{variant:"body1"},a.description)),r.a.createElement("div",{className:t.descSection},r.a.createElement(b.a,{variant:"h4"},"\u30ab\u30c6\u30b4\u30ea"),r.a.createElement(jt.a,{className:t.divider,variant:"middle"}),r.a.createElement(b.a,{variant:"body1"},r.a.createElement(o.a,{to:Ja.categoryTimeline.getPath(a.category.parentId)},a.category.parentCategoryName)," ","> ",a.category.categoryName)),r.a.createElement("div",{className:t.descSection},r.a.createElement(b.a,{variant:"h4"},"\u51fa\u54c1\u8005"),r.a.createElement(jt.a,{className:t.divider,variant:"middle"}),r.a.createElement(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",wrap:"nowrap",spacing:2},r.a.createElement(_.a,{item:!0},r.a.createElement(o.a,{className:t.link,to:Ja.user.getPath(a.sellerId)},r.a.createElement(E.a,{className:t.avatar},a.seller.accountName.charAt(0)))),r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(b.a,{variant:"body1"},a.seller.accountName)))))))),r.a.createElement(Nt,{price:a.price,onClick:this._onClickBuyButton,buttonText:"\u8cfc\u5165"})))}}]),t}(r.a.Component),Tt=et()(C()(function(e){return Object(f.a)({title:{margin:e.spacing(3)},itemImage:{width:"100%",maxWidth:"500px",height:"auto"},avatar:{width:"50px",height:"50px"},divider:{margin:e.spacing(1)},descSection:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},link:{textDecoration:"none"}})})(It)),wt=Object(w.c)(function(e){return{loading:e.page.isItemLoading,item:e.viewingItem.item,errorType:e.error.errorType}},function(e){return{load:function(t){e(We(t))},onClickBuy:function(t){e(Object(H.d)(Ja.buy.getPath(t)))}}})(Tt),kt=a(306),xt=a(303),Pt=a(304),Ft=re()(function(e){return{itemImage:{height:"100%"}}}),Lt=function(e){var t=e.itemId,a=e.imageUrl,n=e.title,i=e.price,c=Ft();return r.a.createElement(xt.a,null,r.a.createElement(o.a,{to:Ja.item.getPath(t)},r.a.createElement("img",{className:c.itemImage,src:a,alt:n})),r.a.createElement(Pt.a,{title:n,subtitle:"".concat(i,"\uff72\uff7d\uff7a\uff72\uff9d")}))},At=a(305),Ut=a(157),Rt=a.n(Ut),Ht=a(158),Bt=a.n(Ht),Dt=re()(function(e){return{grid:{width:"300px",height:"300px"}}}),Mt=function(e){var t=e.items,a=e.hasNext,n=e.categoryId,i=e.loadMore,c=Dt(),o=[],s=!0,u=!1,l=void 0;try{for(var m,p=t[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var d=m.value;o.push(r.a.createElement(At.a,{className:c.grid,key:d.id},r.a.createElement(Lt,{itemId:d.id,imageUrl:d.thumbnailUrl,title:d.name,price:d.price})))}}catch(g){u=!0,l=g}finally{try{s||null==p.return||p.return()}finally{if(u)throw l}}var h=t[t.length-1];return r.a.createElement(Rt.a,{pageStart:0,loadMore:i.bind(null,h.createdAt,h.id,n),hasMore:a,loader:r.a.createElement(Bt.a,null)},r.a.createElement(kt.a,{cols:3},o))},Wt=a(160),Gt=a.n(Wt),qt=a(307),zt=re()(function(e){return{fab:{margin:e.spacing(1),position:"fixed",top:"auto",bottom:"30px",right:"30px",width:"100px",height:"100px"}}}),Vt=Object(w.c)(function(e){return{}},function(e){return{onClick:function(t){t.preventDefault(),e(Object(H.d)(Ja.sell.path))}}})(function(e){var t=e.onClick,a=zt();return r.a.createElement(Gt.a,{className:a.fab,color:"secondary",onClick:t},r.a.createElement(qt.a,{fontSize:"large"}))}),Jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.load(),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.loading,i=t.items;return r.a.createElement(ee,null,n?r.a.createElement(X,null):r.a.createElement(function(){return 0===i.length?r.a.createElement("div",{className:a.root},r.a.createElement(ve.a,{variant:"h5"},"\u51fa\u54c1\u3055\u308c\u3066\u3044\u308b\u5546\u54c1\u306f\u3042\u308a\u307e\u305b\u3093")):r.a.createElement("div",{className:a.root},r.a.createElement(Mt,e.props),r.a.createElement(Vt,null))},null))}}]),t}(r.a.Component),Yt=et()(C()(function(e){return Object(f.a)({root:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(1),justifyContent:"space-around",overflow:"hidden"}})})(Jt));function Qt(e,t,a){return function(n){Promise.resolve(function(){n(Kt())}).then(function(){var n={item_id:t,created_at:e};return a?R.get("/new_items/".concat(a,".json"),n):R.get("/new_items.json",n)}).then(function(e){if(!e.ok){if(404===e.status)throw new Me("Item not found");throw new U("Request for getting timeline item data was failed",e)}return e.json()}).then(function(e){n(Xt({items:e.items.map(function(e){return{id:e.id,status:e.status,name:e.name,price:e.price,thumbnailUrl:"https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png",createdAt:e.created_at}}),hasNext:e.has_next,categoryId:e.root_category_id,categoryName:e.root_category_name}))}).catch(function(e){n(Zt())})}}var Kt=function(){return{type:"FETCH_TIMELINE_START"}},Xt=function(e){return{type:"FETCH_TIMELINE_SUCCESS",payload:e}},Zt=function(){return{type:"FETCH_TIMELINE_FAIL"}},$t=Object(w.c)(function(e){return{items:e.timeline.items,hasNext:e.timeline.hasNext,errorType:e.error.errorType,loading:e.page.isTimelineLoading}},function(e){return{load:function(){e(Qt())},loadMore:function(t,a,n){e(Qt(t,a))}}})(Yt),ea=Object(u.a)(function(e){return{}}),ta=function(){ea();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u5546\u54c1\u304c\u8cfc\u5165\u3055\u308c\u307e\u3057\u305f"),r.a.createElement(b.a,{variant:"h6"},"\u8cfc\u5165\u8005\u304c\u767a\u9001\u4e88\u7d04\u3092\u3059\u308b\u307e\u3067\u304a\u5f85\u3061\u4e0b\u3055\u3044"))},aa=Object(u.a)(function(e){return{}}),na=function(e){var t=e.itemId,a=e.transactionEvidenceId,n=e.postShippedDone,i=(aa(),"/transactions/".concat(a,".png"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u8cfc\u5165\u8005\u306e\u767a\u9001\u4e88\u7d04\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"),r.a.createElement(b.a,{variant:"h6"},"\u914d\u9054\u54e1\u306b\u3053\u3061\u3089\u306eQR\u30b3\u30fc\u30c9\u3092\u898b\u305b\u3066\u767a\u9001\u3057\u305f\u5f8c\u3001\u4e0b\u8a18\u306e\u767a\u9001\u5b8c\u4e86\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044"),r.a.createElement("img",{src:i,alt:"QR\u30b3\u30fc\u30c9"}),r.a.createElement(y.a,{onClick:function(e){n(t)}},"\u767a\u9001\u5b8c\u4e86"))},ra=Object(u.a)(function(e){return{}}),ia=function(){ra();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u5546\u54c1\u3092\u767a\u9001\u3057\u307e\u3057\u305f"),r.a.createElement(b.a,{variant:"h6"},"\u8cfc\u5165\u8005\u304c\u5546\u54c1\u3092\u53d7\u3051\u53d6\u308b\u306e\u3092\u304a\u5f85\u3061\u4e0b\u3055\u3044"))},ca=Object(u.a)(function(e){return{}}),oa=function(){ca();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u53d6\u5f15\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"))},sa=Object(u.a)(function(e){return{progress:{top:0,bottom:0,right:0,left:0,margin:"auto",position:"absolute"}}}),ua=function(e){var t=e.itemId,a=e.transactionEvidenceId,n=e.postShippedDone,i=e.transactionStatus,c=e.shippingStatus;sa();return"initial"===c&&"wait_shipping"===i?r.a.createElement(ta,null):"wait_pickup"===c&&"wait_shipping"===i?r.a.createElement(na,{itemId:t,transactionEvidenceId:a,postShippedDone:n}):"wait_done"===i?r.a.createElement(ia,null):r.a.createElement(oa,null)},la="POST_SHIPPED_DONE_START",ma="POST_SHIPPED_DONE_SUCCESS",pa="POST_SHIPPED_DONE_FAIL";function da(e){return function(t){Promise.resolve().then(function(){t({type:la})}).then(function(){return R.post("/ship",{item_id:e})}).then(function(e){if(200!==e.status)throw new Error("HTTP status not 200");return e.json()}).then(function(e){t({type:ma})}).catch(function(e){var a;t((a={error:e.message},{type:pa,payload:a}))})}}var ha=Object(w.c)(function(e){return{}},function(e){return{postShippedDone:function(t){e(da(t))}}})(ua),ga=Object(u.a)(function(e){return{}}),fa=function(e){var t=e.itemId,a=e.postShipped;ga();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u5546\u54c1\u3092\u8cfc\u5165\u3057\u307e\u3057\u305f"),r.a.createElement(b.a,{variant:"h6"},"\u767a\u9001\u4e88\u7d04\u306e\u624b\u7d9a\u304d\u3092\u3057\u3066\u304f\u3060\u3055\u3044"),r.a.createElement(y.a,{onClick:function(e){a(t)}},"\u767a\u9001\u4e88\u7d04"))},Ea=Object(u.a)(function(e){return{}}),ba=function(){Ea();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u767a\u9001\u4e88\u7d04\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"),r.a.createElement(b.a,{variant:"h6"},"\u51fa\u54c1\u8005\u304b\u3089\u306e\u767a\u9001\u3092\u304a\u5f85\u3061\u304f\u3060\u3055\u3044"))},va=Object(u.a)(function(e){return{}}),ya=function(e){var t=e.itemId,a=e.postComplete;va();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u51fa\u54c1\u8005\u306b\u3088\u308a\u5546\u54c1\u304c\u767a\u9001\u3055\u308c\u307e\u3057\u305f"),r.a.createElement(b.a,{variant:"h6"},"\u5546\u54c1\u304c\u5c4a\u304d\u6b21\u7b2c\u3001\u53d7\u53d6\u5b8c\u4e86\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044"),r.a.createElement(y.a,{onClick:function(e){a(t)}},"\u53d7\u53d6\u5b8c\u4e86"))},_a=Object(u.a)(function(e){return{}}),Oa=function(){_a();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{variant:"h6"},"\u53d6\u5f15\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"))},ja=Object(u.a)(function(e){return{progress:{top:0,bottom:0,right:0,left:0,margin:"auto",position:"absolute"}}}),Ca=function(e){var t=e.itemId,a=e.postShipped,n=e.postComplete,i=e.transactionStatus,c=e.shippingStatus;ja();return"initial"===c&&"wait_shipping"===i?r.a.createElement(fa,{itemId:t,postShipped:a}):"wait_pickup"===c&&"wait_shipping"===i?r.a.createElement(ba,null):"wait_done"===i?r.a.createElement(ya,{itemId:t,postComplete:n}):r.a.createElement(Oa,null)},Sa="POST_COMPLETE_START",Na="POST_COMPLETE_SUCCESS",Ia="POST_COMPLETE_FAIL";function Ta(e){return function(t){Promise.resolve().then(function(){t({type:Sa})}).then(function(){return R.post("/complete",{item_id:e})}).then(function(e){if(200!==e.status)throw new Error("HTTP status not 200");return e.json()}).then(function(e){t({type:Na})}).catch(function(e){var a;t((a={error:e.message},{type:Ia,payload:a}))})}}var wa,ka=Object(w.c)(function(e){return{}},function(e){return{postShipped:function(t){e(Qe(t))},postComplete:function(t){e(Ta(t))}}})(Ca),xa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.load(a.props.match.params.item_id),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.loading,n=t.item,i=t.auth.userId;return a?r.a.createElement(ee,null,r.a.createElement(X,null)):void 0===n?r.a.createElement(Ze,null):void 0===n.shippingStatus||void 0===n.transactionEvidenceStatus||void 0===n.transactionEvidenceId?r.a.createElement($e,null):(i===n.sellerId&&(e=r.a.createElement(ha,{itemId:n.id,transactionEvidenceId:n.transactionEvidenceId,transactionStatus:n.transactionEvidenceStatus,shippingStatus:n.shippingStatus})),i===n.buyerId&&(e=r.a.createElement(ka,{itemId:n.id,transactionStatus:n.transactionEvidenceStatus,shippingStatus:n.shippingStatus})),void 0===e?r.a.createElement(Ze,null):r.a.createElement(ee,null,e))}}]),t}(r.a.Component),Pa=et()(xa),Fa=Object(w.c)(function(e){return{loading:e.page.isItemLoading,item:e.viewingItem.item,auth:{userId:e.authStatus.userId||0},errorType:e.error.errorType}},function(e){return{load:function(t){e(We(t))}}})(Pa),La={id:1235,accountName:"Kirin",address:"Tokyo",numSellItems:0},Aa=[{id:1,status:"on_sale",sellerId:1111,seller:{id:1111,accountName:"sota1235",address:"",numSellItems:1},buyerId:2222,name:"\u3044\u3059",price:1e4,description:"\u3044\u3059\u3067\u3059",thumbnailUrl:"https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png",category:{id:1,categoryName:"\u30ab\u30c6\u30b4\u30ea1",parentId:2,parentCategoryName:"\u89aa\u30ab\u30c6\u30b4\u30ea"},createdAt:1e4},{id:2,status:"on_sale",sellerId:1111,seller:{id:1111,accountName:"sota1235",address:"",numSellItems:1},buyerId:2222,name:"\u3044\u3059",price:1e4,description:"\u3044\u3059\u3067\u3059",thumbnailUrl:"https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png",category:{id:1,categoryName:"\u30ab\u30c6\u30b4\u30ea1",parentId:2,parentCategoryName:"\u89aa\u30ab\u30c6\u30b4\u30ea"},createdAt:1e4},{id:3,status:"on_sale",sellerId:1111,seller:{id:1111,accountName:"sota1235",address:"",numSellItems:1},buyerId:2222,name:"\u3044\u3059",price:1e4,description:"\u3044\u3059\u3067\u3059",thumbnailUrl:"https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png",category:{id:1,categoryName:"\u30ab\u30c6\u30b4\u30ea1",parentId:2,parentCategoryName:"\u89aa\u30ab\u30c6\u30b4\u30ea"},createdAt:1e4},{id:4,status:"on_sale",sellerId:1111,seller:{id:1111,accountName:"sota1235",address:"",numSellItems:1},buyerId:2222,name:"\u3044\u3059",price:1e4,description:"\u3044\u3059\u3067\u3059",thumbnailUrl:"https://i.gyazo.com/c61ab08bca188410e81dbdcf7684e07e.png",category:{id:1,categoryName:"\u30ab\u30c6\u30b4\u30ea1",parentId:2,parentCategoryName:"\u89aa\u30ab\u30c6\u30b4\u30ea"},createdAt:1e4}],Ua=re()(function(e){return{avatar:{margin:e.spacing(3),width:"100px",height:"100px"},itemList:{marginTop:e.spacing(4)}}}),Ra=et()(function(e){var t=e.items,a=e.user,n=Ua();return r.a.createElement(ee,null,r.a.createElement("p",null,"User Page"),r.a.createElement(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",wrap:"nowrap",spacing:2},r.a.createElement(_.a,{item:!0},r.a.createElement(E.a,{className:n.avatar},a.accountName.charAt(0))),r.a.createElement(_.a,{item:!0,xs:!0},r.a.createElement(b.a,{variant:"h3"},a.accountName))),r.a.createElement(jt.a,{variant:"middle"}),r.a.createElement("div",{className:n.itemList},r.a.createElement(Mt,{items:t,hasNext:!1,loadMore:function(e){}})),r.a.createElement(Vt,null))}),Ha=Object(w.c)(function(e){return{items:Aa,user:La,errorType:e.error.errorType,loading:!1}},function(e){return{}})(Ra),Ba=a(91),Da=Object(w.c)(function(e){return{isLoggedIn:!!e.authStatus.userId}},function(e){return{}})(function(e){var t=e.component,a=e.isLoggedIn,n=Object(Ba.a)(e,["component","isLoggedIn"]);if(!t)throw new Error("component attribute required for AuthRoute component");return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(s.a,{to:Ja.login.path})}}))}),Ma=Object(w.c)(function(e){return{isLoggedIn:!!e.authStatus.userId}},function(e){return{}})(function(e){var t=e.component,a=e.isLoggedIn,n=Object(Ba.a)(e,["component","isLoggedIn"]);if(!t)throw new Error("component attribute required for NonAuthRoute component");return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(s.a,{to:Ja.timeline.path}):r.a.createElement(t,e)}}))}),Wa=re()(function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},textarea:{marginTop:e.spacing(1),marginBottom:e.spacing(2)},img:{width:"70%"},button:{margin:e.spacing(1)}}}),Ga=function(){var e=Wa(),t=r.a.forwardRef(function(e,t){return r.a.createElement(o.a,Object.assign({innerRef:t},e),"\u30ed\u30b0\u30a4\u30f3")}),a=r.a.forwardRef(function(e,t){return r.a.createElement(o.a,Object.assign({innerRef:t},e),"\u65b0\u898f\u4f1a\u54e1\u767b\u9332")});return r.a.createElement(ee,null,r.a.createElement("div",{className:e.paper},r.a.createElement("img",{className:e.img,src:"/logo.png",alt:"ISUCARI"}),r.a.createElement("div",{className:e.textarea},r.a.createElement(b.a,{variant:"h6"},"\u3064\u3044\u306b\u30ea\u30ea\u30fc\u30b9\uff01"),r.a.createElement(b.a,{variant:"h6"},"\u6905\u5b50\u9650\u5b9aC2C\u306eEC\u30b5\u30fc\u30d3\u30b9 \u30ab\u30fc\u30c9\u3067\u7c21\u5358\u6c7a\u6e08\u3002"),r.a.createElement(b.a,{variant:"h6"},"\u3082\u3061\u308d\u3093\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3082\u4e07\u5168\u3002 \u304a\u4e92\u3044\u306e\u4f4f\u6240\u3092\u77e5\u3089\u306a\u304f\u3066\u3082\u914d\u9001\u53ef\u80fd\u3002")),r.a.createElement(y.a,{color:"primary",fullWidth:!0,className:e.button,variant:"contained",size:"medium",component:t,to:Ja.login.path}),r.a.createElement(y.a,{color:"primary",fullWidth:!0,className:e.button,variant:"outlined",size:"medium",component:a,to:Ja.register.path})))},qa=function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.match.params.category_id,r=we.a.isNumeric(n);return r&&a.props.load(Number(n)),a.state={categoryIdIsValid:r},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.loading,i=t.items,c=t.categoryName,o=this.state.categoryIdIsValid;return r.a.createElement(ee,null,o?n?r.a.createElement(X,null):r.a.createElement(function(){return 0===i.length?r.a.createElement("div",{className:a.root},r.a.createElement(ve.a,{variant:"h5"},"\u51fa\u54c1\u3055\u308c\u3066\u3044\u308b\u5546\u54c1\u306f\u3042\u308a\u307e\u305b\u3093")):r.a.createElement("div",{className:a.root},r.a.createElement(ve.a,{variant:"h6"},c,"\u306e\u65b0\u7740\u5546\u54c1"),r.a.createElement(Mt,e.props),r.a.createElement(Vt,null))},null):r.a.createElement($e,null))}}]),t}(r.a.Component),za=et()(C()(function(e){return Object(f.a)({root:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(1),justifyContent:"space-around",overflow:"hidden"}})})(qa)),Va=Object(w.c)(function(e){return{items:e.timeline.items,hasNext:e.timeline.hasNext,categoryId:e.timeline.categoryId,categoryName:e.timeline.categoryName,errorType:e.error.errorType,loading:e.page.isTimelineLoading}},function(e){return{load:function(t){e(Qt(void 0,void 0,t))},loadMore:function(t,a,n,r){e(Qt(t,a,n))}}})(za),Ja={top:{path:"/",getPath:function(){return"/"}},login:{path:"/login",getPath:function(){return"/login"}},register:{path:"/register",getPath:function(){return"register"}},timeline:{path:"/timeline",getPath:function(){return"/timeline"}},categoryTimeline:{path:"/categories/:category_id/items",getPath:function(e){return"/categories/".concat(e,"/items")}},sell:{path:"/sell",getPath:function(){return"/sell"}},item:{path:"/items/:item_id",getPath:function(e){return"/items/".concat(e)}},itemEdit:{path:"/items/:item_id/edit",getPath:function(e){return"/items/".concat(e,"/edit")}},buy:{path:"/items/:item_id/buy",getPath:function(e){return"/items/".concat(e,"/buy")}},buyComplete:{path:"/buy/complete",getPath:function(){return"/buy/complete"}},transaction:{path:"/transactions/:item_id",getPath:function(e){return"/transactions/".concat(e)}},user:{path:"/users/:user_id",getPath:function(e){return"/users/".concat(e)}},userSetting:{path:"/users/setting",getPath:function(){return"/users/setting"}}},Ya=function(){return r.a.createElement(s.d,null,r.a.createElement(Ma,{exact:!0,path:Ja.top.path,component:Ga}),r.a.createElement(Ma,{exact:!0,path:Ja.login.path,component:ae}),r.a.createElement(Ma,{exact:!0,path:Ja.register.path,component:pe}),r.a.createElement(Da,{exact:!0,path:Ja.timeline.path,component:$t}),r.a.createElement(Da,{exact:!0,path:Ja.categoryTimeline.path,component:Va}),r.a.createElement(Da,{exact:!0,path:Ja.sell.path,component:at}),r.a.createElement(Da,{exact:!0,path:Ja.item.path,component:wt}),r.a.createElement(Da,{exact:!0,path:Ja.itemEdit.path,component:nt}),r.a.createElement(Da,{exact:!0,path:Ja.buy.path,component:yt}),r.a.createElement(Da,{exact:!0,path:Ja.buyComplete.path,component:Ot}),r.a.createElement(Da,{exact:!0,path:Ja.transaction.path,component:Fa}),r.a.createElement(Da,{exact:!0,path:Ja.user.path,component:Ha}),r.a.createElement(Da,{exact:!0,path:Ja.userSetting.path,component:_t}),r.a.createElement(s.b,{component:Ze}))},Qa=[{path:"/",pageName:"Top page"},{path:"/login",pageName:"Sign in page"},{path:"/register",pageName:"Sign up page"},{path:"/timeline",pageName:"Timeline page"},{path:"/items/:item_id",pageName:"Item page"},{path:"/items/:item_id/edit",pageName:"Item edit page"},{path:"/items/:item_id/buy",pageName:"Item buy page"},{path:"/buy/complete",pageName:"Buying complete page"},{path:"/sell",pageName:"Sell page"},{path:"/transactions/:transaction_id",pageName:"Transaction page"},{path:"/users/:user_id",pageName:"User page"},{path:"/users/setting",pageName:"User setting page"}],Ka=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("ul",null,function(){for(var e=[],t=0,a=Qa;t<a.length;t++){var n=a[t];e.push(r.a.createElement("li",{key:n.pageName},r.a.createElement(o.a,{to:n.path},n.pageName)))}return e}())),r.a.createElement("hr",null),r.a.createElement(Ya,null))},Xa=a(33),Za=a(36),$a=a(164),en=a(50),tn=a(145),an=a(161),nn=a(162),rn=[function(e){var t=e.getState;return function(e){return function(a){console.group(a.type),console.info("dispatching",a);var n=e(a);return console.log("next state",t()),console.groupEnd(),n}}}],cn=a(20),on={checked:!1},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:case oe:return Object(cn.a)({},e,t.payload);case"FETCH_SETTINGS_SUCCESS":var a=t.payload.settings.user,n={};return a&&(n={userId:a.id,accountName:a.accountName,address:a.address||void 0}),Object(cn.a)({},e,n,{checked:!0});case"FETCH_SETTINGS_FAIL":return Object(cn.a)({},e,{checked:!0});default:return e}},un={error:void 0,buyFormError:{}},ln=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case D:case se:case gt:case ht:case Ue:return Object(cn.a)({},e.payload);default:return un}},mn={},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEM_SUCCESS":return Object(cn.a)({},e,{item:t.payload.item});default:return e}},dn={isLoading:!0,isItemLoading:!0,isTimelineLoading:!0},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEM_START":return Object(cn.a)({},e,{isItemLoading:!0});case"FETCH_ITEM_SUCCESS":case"FETCH_ITEM_FAIL":return Object(cn.a)({},e,{isItemLoading:!1});case"FETCH_TIMELINE_START":return Object(cn.a)({},e,{isTimelineLoading:!0});case"FETCH_TIMELINE_SUCCESS":case"FETCH_TIMELINE_FAIL":return Object(cn.a)({},e,{isTimelineLoading:!1});case"FETCH_SETTINGS_START":return Object(cn.a)({},e,{isLoading:!0});case"FETCH_SETTINGS_SUCCESS":case"FETCH_SETTINGS_FAIL":return Object(cn.a)({},e,{isLoading:!1});case H.b:switch(t.payload.location.pathname){case Ja.timeline.path:return Object(cn.a)({},e,{isTimelineLoading:!0});default:return Object(cn.a)({},e)}default:return Object(cn.a)({},e)}},gn={loadingBuy:!1},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;switch((arguments.length>1?arguments[1]:void 0).type){case pt:return Object(cn.a)({},e,{loadingBuy:!0});case dt:case ht:case gt:return Object(cn.a)({},e,{loadingBuy:!1});default:return Object(cn.a)({},e)}},En={categories:[]},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SETTINGS_SUCCESS":return{categories:t.payload.settings.categories};default:return Object(cn.a)({},e)}},vn={items:[],hasNext:!1},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.b:return vn;case"FETCH_TIMELINE_SUCCESS":var a=t.payload;return{items:e.items.concat(a.items),hasNext:a.hasNext,categoryId:a.categoryId,categoryName:a.categoryName};default:return Object(cn.a)({},e)}},_n=Object(Xa.a)(),On=function(e,t){return Object(en.createStore)(e,Object(nn.composeWithDevTools)(en.applyMiddleware.apply(void 0,[an.a,Object(tn.a)(t)].concat(Object($a.a)(rn)))))}((wa=_n,Object(en.combineReducers)({router:Object(Za.b)(wa),authStatus:sn,formError:ln,viewingItem:pn,error:Ke,page:hn,buyPage:fn,categories:bn,timeline:yn})),_n);c.a.render(r.a.createElement(w.a,{store:On},r.a.createElement(Za.a,{history:_n},r.a.createElement(Ka,null))),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.0b2dad7e.chunk.js.map